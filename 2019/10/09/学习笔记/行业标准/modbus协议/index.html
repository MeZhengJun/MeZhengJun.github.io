<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="LiWuK0jxrq55oR5-aNOK6r0wFuUC8EvSlpNYhiiBkDk">
  <meta name="baidu-site-verification" content="code-MRwc3a52M3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhengjun.top","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="Modbus通信协议由Modicon公司（现已经为施耐德公司并购，成为其旗下的子品牌）于1979年发明的，是全球最早用于工业现场的总线规约。由于其免费公开发行，使用该协议的厂家无需缴纳任何费用，Modbus通信协议采用的是主从通信模式（即Master&#x2F;Slave通信模式)，其在分散控制方面应用极其广泛，从而使得Modbus协议在全球得到了广泛的应用。 Modbus通信协议具有多个变种，其具有支持串">
<meta property="og:type" content="article">
<meta property="og:title" content="modbus协议">
<meta property="og:url" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/index.html">
<meta property="og:site_name" content="郑君的学习笔记">
<meta property="og:description" content="Modbus通信协议由Modicon公司（现已经为施耐德公司并购，成为其旗下的子品牌）于1979年发明的，是全球最早用于工业现场的总线规约。由于其免费公开发行，使用该协议的厂家无需缴纳任何费用，Modbus通信协议采用的是主从通信模式（即Master&#x2F;Slave通信模式)，其在分散控制方面应用极其广泛，从而使得Modbus协议在全球得到了广泛的应用。 Modbus通信协议具有多个变种，其具有支持串">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200221_113232.png">
<meta property="og:image" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20191009_150946.png">
<meta property="og:image" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20191009_150958.png">
<meta property="og:image" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200218_105117.png">
<meta property="og:image" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200218_105133.png">
<meta property="article:published_time" content="2019-10-09T03:47:15.000Z">
<meta property="article:modified_time" content="2020-02-21T04:56:00.000Z">
<meta property="article:author" content="郑  君">
<meta property="article:tag" content="modbus">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200221_113232.png">


<link rel="canonical" href="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/","path":"2019/10/09/学习笔记/行业标准/modbus协议/","title":"modbus协议"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>modbus协议 | 郑君的学习笔记</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="郑君的学习笔记" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">郑君的学习笔记</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">要比昨天进步一点点</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">215</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">80</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">1286</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Modbus-RTU-Protocol"><span class="nav-number">1.</span> <span class="nav-text">Modbus RTU Protocol</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="郑  君"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">郑  君</p>
  <div class="site-description" itemprop="description">C++，golang，Java，Python，Kotlin，区块链，全栈</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">1286</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">80</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">215</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ZhengHanYunBlog" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ZhengHanYunBlog" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhenghanyun2021@126.com" title="E-Mail → mailto:zhenghanyun2021@126.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCmh8TlSil0IrCA-AQ9Xx9_Q" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCmh8TlSil0IrCA-AQ9Xx9_Q" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          modbus协议
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-10-09 11:47:15" itemprop="dateCreated datePublished" datetime="2019-10-09T11:47:15+08:00">2019-10-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-21 12:56:00" itemprop="dateModified" datetime="2020-02-21T12:56:00+08:00">2020-02-21</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/" itemprop="url" rel="index"><span itemprop="name">行业标准</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Modbus通信协议由Modicon公司（现已经为施耐德公司并购，成为其旗下的子品牌）于1979年发明的，是全球最早用于工业现场的总线规约。由于其免费公开发行，使用该协议的厂家无需缴纳任何费用，Modbus通信协议采用的是主从通信模式（即Master/Slave通信模式)，其在分散控制方面应用极其广泛，从而使得Modbus协议在全球得到了广泛的应用。</p>
<p>Modbus通信协议具有多个变种，其具有支持串口（主要是RS-485总线），以太网多个版本，其中最著名的是Modbus RTU,Modbus ASCII和Modbus TCP三种。其中Modbus RTU与Modbus ASCII均为支持RS-485总线的通信协议，其中Modbus RTU由于其采用二进制表现形式以及紧凑数据结构，通信效率较高，应用比较广泛。而Modbus ASCII由于采用ASCII码传输，并且利用特殊字符作为其字节的开始与结束标识，其传输效率要远远低于Modbus RTU协议，一般只有在通信数据量较小的情况下才考虑使用Modbus ASCII通信协议，在工业现场一般都是采用Modbus RTU协议，一般而言，大家说的基于串口通信的Modbus通信协议都是指Modbus RTU通信协议。</p>
<p>Modbus can work on top of RS-232, RS-485 or TCP/IP over Ethernet. </p>
<p><a target="_blank" rel="noopener" href="https://unserver.xyz/modbus-guide/">modbus-guide</a></p>
<ul>
<li>Modbus RTU (binary over serial link)</li>
<li>Modbus ASCII (text-based over serial link)</li>
<li>Modbus TCP (binary over TCP/IP transport)</li>
</ul>
<h2 id="Modbus-RTU-Protocol"><a href="#Modbus-RTU-Protocol" class="headerlink" title="Modbus RTU Protocol"></a>Modbus RTU Protocol</h2><p>Modbus RTU is a master-slave protocol. This means that only one device, the master, is allowed to initiate communication. The other devices on the network are called slaves and they may only respond to the requests. Modbus RTU can support up to 247 devices on the same physical network. It’s possible to modify the protocol to support more slaves, but in most applications the standard limit of slaves if enough.</p>
<p>Modbus RTU encodes data as binary and uses big-endian encoding for 16-bit values. This means that the most significant byte of a 16-bit word is sent first.</p>
<img alt="20200221_113232.png" src="/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200221_113232.png" width="500" height>

<p>There are only two data types in Modbus: coils and registers. </p>
<p>Coils are simply single bits. The bits can be ON (1) or they can be OFF (0). Some coils represent inputs, meaning they contain the status of some physical discrete input. Or they represent outputs, meaning that they hold the state of some physical discrete output signal. </p>
<p>Registers are simply 16-bit unsigned register data. Registers can have a value from 0 to 65535 (0 to FFFF hexadecimal). There is no representation for negative values, no representation for values greater than 65535, and no representation for real data like 200.125.</p>
<p>Registers are grouped into Input Registers and Holding Registers. Like Input Coils, Input Registers report the state of some external input as a value between 0 and 65535. The original intent of an Input Register was to reflect the value of some analog input. It is a digital representation of an analog signal like a voltage or a current. Most Modbus devices today are not I/O devices, and Input Registers simply function identically to Holding Registers.</p>
<table>
<thead>
<tr>
<th>地址码</th>
<th>功能码</th>
<th>数据区</th>
<th>错误校验码</th>
</tr>
</thead>
<tbody><tr>
<td>8位</td>
<td>8位</td>
<td>N × 8位</td>
<td>16位</td>
</tr>
</tbody></table>
<p>发送数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">01 03 01 8E 00 04 25 DE</span><br><span class="line"></span><br><span class="line">&quot;01&quot; 为模块的地址码，</span><br><span class="line">&quot;03&quot; 为功能码，即表示读寄存器，</span><br><span class="line">&quot;01 8E&quot; 为寄存器地址，即从该寄存器地址开始读取数据，</span><br><span class="line">&quot;00 04&quot; 则表示读取4个寄存器，</span><br><span class="line">而 &quot;25 DE&quot; 则为前面 &quot;01 03 01 8E 00 04&quot; 的CRC校验码,该数值通过CRC16校验算法计算出来的</span><br></pre></td></tr></table></figure>

<p>返回数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">01 03 08 00 01 00 01 00 01 00 01 28 D7</span><br><span class="line"></span><br><span class="line">&quot;01&quot; 为模块的地址码，</span><br><span class="line">&quot;03&quot; 表示该指令是读操作返回的指令</span><br><span class="line">&quot;08&quot; 表示数据长度，在此表示的是8个字节数据正文（即4个寄存器，每个寄存器两个字节表示）</span><br><span class="line">&quot;00 01 00 01 00 01 00 01&quot; 是数据正文，表示四个寄存器的状态，</span><br><span class="line">&quot;28 D7&quot; 就是CRC16校验码。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">Tx:074-03 03 00 00 00 08 45 EE </span><br><span class="line">Rx:075-03 03 10 A2 7E 73 4B A0 A7 73 32 9C CC 75 16 9C 65 75 80 76 3E </span><br><span class="line">Tx:076-03 03 00 00 00 08 45 EE </span><br><span class="line">Rx:077-03 03 10 A2 7A 73 84 A0 B3 73 32 9C C8 75 3A 9C 82 75 8C 42 F7 </span><br><span class="line">Tx:078-03 03 00 00 00 08 45 EE </span><br><span class="line">Rx:079-03 03 10 A2 7E 73 78 A0 AF 73 26 9C C8 75 47 9C AB 75 88 3F 58 </span><br><span class="line">Tx:080-03 03 00 00 00 08 45 EE </span><br><span class="line">Rx:081-03 03 10 A2 7A 73 5F A0 B3 73 1A 9C C3 75 5F 9C BB 75 7C BF 6D </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img alt="20191009_150946.png" src="/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20191009_150946.png" width="500" height>

<img alt="20191009_150958.png" src="/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20191009_150958.png" width="500" height>


<p>ModBus 功能码与数据类型对应表：</p>
<img alt="20200218_105117.png" src="/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200218_105117.png" width="500" height>

<p>RTU 方式读取整数据的例子：</p>
<img alt="20200218_105133.png" src="/2019/10/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%A1%8C%E4%B8%9A%E6%A0%87%E5%87%86/modbus%E5%8D%8F%E8%AE%AE/20200218_105133.png" width="500" height>

<p>解析一下：主机发送指令，访问从站地址为1，使用功能码03（读保持寄存器），起始地址高8位、低8位：表示想读取的模拟量的起始地址(起始地址为0)。比如例子中的起始地址为38，十进制为：56。寄存器数量高8位、低8位：表示从起始地址开始读多少个模拟量。例子中为1个模拟量。注意，在返回的信息中一个模拟量需要返回两个字节。错误校验为CRC校验。</p>
<p>从站应答：设备地址和命令号和上面的相同。返回的字节数：表示数据的字节个数，也就是数据1，2…n中的n的值。例子中返回了1个模拟量的数据，因为一个模拟量需要2个字节所以共2个字节。数据高低字节：41和24代表返回的1个模拟量的值，即十进制的16676。错误校验为CRC校验。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee, if you like!</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpg" alt="郑  君 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.jpg" alt="郑  君 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/modbus/" rel="tag"># modbus</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/10/08/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/go/go-jason-library/" rel="prev" title="go-jason library">
                  <i class="fa fa-chevron-left"></i> go-jason library
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/10/10/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%B7%A5%E5%85%B7-v2ray/" rel="next" title="科学上网工具-v2ray">
                  科学上网工具-v2ray <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">沪ICP备18010120号-1 </a>
      <img src="/images/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" alt=""><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011202010521" rel="noopener" target="_blank">沪公安备案31011202010521号 </a>
  </div>

<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郑  君</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">2.1m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">31:20</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/code-unfold.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
