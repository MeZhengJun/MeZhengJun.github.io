<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="LiWuK0jxrq55oR5-aNOK6r0wFuUC8EvSlpNYhiiBkDk">
  <meta name="baidu-site-verification" content="code-MRwc3a52M3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhengjun.top","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
<meta property="og:type" content="website">
<meta property="og:title" content="郑君的学习笔记">
<meta property="og:url" content="http://zhengjun.top/page/22/index.html">
<meta property="og:site_name" content="郑君的学习笔记">
<meta property="og:description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郑  君">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://zhengjun.top/page/22/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/22/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>郑君的学习笔记</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="郑君的学习笔记" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">郑君的学习笔记</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">要比昨天进步一点点</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">214</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">80</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">1272</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="郑  君"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">郑  君</p>
  <div class="site-description" itemprop="description">C++，golang，Java，Python，Kotlin，区块链，全栈</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">1272</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">80</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">214</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ZhengHanYunBlog" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ZhengHanYunBlog" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhenghanyun2021@126.com" title="E-Mail → mailto:zhenghanyun2021@126.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCmh8TlSil0IrCA-AQ9Xx9_Q" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCmh8TlSil0IrCA-AQ9Xx9_Q" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/10/%E5%BC%80%E6%BA%90%E5%BA%93/Qt/qt-QMainWindows/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/10/%E5%BC%80%E6%BA%90%E5%BA%93/Qt/qt-QMainWindows/" class="post-title-link" itemprop="url">qt-QMainWindows</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-06-10 11:01:20 / 修改时间：11:27:36" itemprop="dateCreated datePublished" datetime="2020-06-10T11:01:20+08:00">2020-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E6%BA%90%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">开源库</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E6%BA%90%E5%BA%93/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>232</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="设置标题文字"><a href="#设置标题文字" class="headerlink" title="设置标题文字"></a>设置标题文字</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">w.<span class="built_in">setWindowTitle</span>(QObject::<span class="built_in">tr</span>(<span class="string">&quot;remoteCom ver: 2020.06.10&quot;</span>));</span><br></pre></td></tr></table></figure>

<h2 id="设置中心组件"><a href="#设置中心组件" class="headerlink" title="设置中心组件"></a>设置中心组件</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">remoteCom::<span class="built_in">remoteCom</span>(QWidget *parent, Qt::WFlags flags)</span><br><span class="line">	: <span class="built_in">QMainWindow</span>(parent, flags)</span><br><span class="line">&#123;</span><br><span class="line">	ui.<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">	<span class="keyword">this</span>-&gt;<span class="built_in">setCentralWidget</span>(<span class="keyword">new</span> <span class="built_in">QTextEdit</span>(<span class="keyword">this</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/09/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-compile-to-pyd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/09/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-compile-to-pyd/" class="post-title-link" itemprop="url">python-compile to pyd</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-06-09 16:13:50" itemprop="dateCreated datePublished" datetime="2020-06-09T16:13:50+08:00">2020-06-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-12 10:05:11" itemprop="dateModified" datetime="2020-10-12T10:05:11+08:00">2020-10-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>523</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>pyd 相当于 dll。好处多多</p>
<h2 id="编译-pyd"><a href="#编译-pyd" class="headerlink" title="编译 pyd"></a>编译 pyd</h2><p>装了 nuitka 之后，这个简单，这个在使用 winpython 的时候，调用失败了。使用下面的 cython 就可以。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nuitka --mingw64 --module --show-progress --output-dir=o 你的.py</span><br></pre></td></tr></table></figure>

<ol>
<li>安装 cython</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip install Cython</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>新建 setup.py</li>
</ol>
<p>根据实际情况修改内容，下面的 language 是支持 python3 </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> distutils.core <span class="keyword">import</span> setup</span><br><span class="line"><span class="keyword">from</span> Cython.Build <span class="keyword">import</span> cythonize</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">  name = <span class="string">&#x27;arc app&#x27;</span>,</span><br><span class="line">  ext_modules = cythonize([<span class="string">&quot;proc_ui.py&quot;</span>,<span class="string">&quot;proc_data.py&quot;</span>],compiler_directives=&#123;<span class="string">&#x27;language_level&#x27;</span>: <span class="number">3</span>&#125;),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>生成 pyd</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python setup.py build_ext --inplace</span><br></pre></td></tr></table></figure>

<p>我这边这样就出结果了。 没遇到任何问题，改名为 main.pyd<br>生成了 main.cp38-win_amd64.pyd 文件</p>
<ol start="4">
<li>写个入口脚本</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/09/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-%E5%85%8D%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/09/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-%E5%85%8D%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">python-免安装</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-06-09 10:03:06" itemprop="dateCreated datePublished" datetime="2020-06-09T10:03:06+08:00">2020-06-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-12 10:49:07" itemprop="dateModified" datetime="2020-10-12T10:49:07+08:00">2020-10-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>注意 win7 需要 Windows6.1-KB2533623-x64.msu 补丁</p>
<p>查看当前路径</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># python 环境下</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path</span><br></pre></td></tr></table></figure>

<h2 id="WinPython"><a href="#WinPython" class="headerlink" title="WinPython"></a>WinPython</h2><p><a target="_blank" rel="noopener" href="https://github.com/winpython/winpython">github</a></p>
<p>pyd 文件搜索路径<br>set PYTHONPATH = 路径</p>
<p>path 里面添加 dll 路径<br>tkArcTool\Library\bin</p>
<h2 id="官网下载-python-3-8-3-embed-amd64-版本"><a href="#官网下载-python-3-8-3-embed-amd64-版本" class="headerlink" title="官网下载 python-3.8.3-embed-amd64 版本"></a>官网下载 python-3.8.3-embed-amd64 版本</h2><p>注意系统需要先确认一下 3.8.3 安装版能否正常安装，我虚拟机的win7版本过于老旧，缺少补丁包，导致socket dll 加载总是失败。问题找了好久。<br>我装的 windows 版本 提示缺少 KB2533623 补丁包</p>
<h2 id="修改-python38-pth-内容"><a href="#修改-python38-pth-内容" class="headerlink" title="修改 python38.pth 内容"></a>修改 python38.pth 内容</h2><p>添加搜索路径，去掉 import site 前面的注释</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python38.<span class="built_in">zip</span></span><br><span class="line">.</span><br><span class="line">.\Lib</span><br><span class="line">.\Lib\site-packages</span><br><span class="line">.\DLLs</span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment to run site.main() automatically</span></span><br><span class="line"><span class="keyword">import</span> site</span><br></pre></td></tr></table></figure>

<p>进入目录里面，执行 python，进入终端，以下操作都在该终端内执行</p>
<h2 id="安装-pip"><a href="#安装-pip" class="headerlink" title="安装 pip"></a>安装 pip</h2><p><a target="_blank" rel="noopener" href="https://pip.pypa.io/en/stable/installing/">pip site</a><br>下载 get-pip.py 网页另存为比较快</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python get-pip.py --no-setuptools --no-wheel</span><br><span class="line"></span><br><span class="line">get-pip.py options</span><br><span class="line">--no-setuptools</span><br><span class="line">If <span class="built_in">set</span>, do <span class="keyword">not</span> attempt to install setuptools</span><br><span class="line"></span><br><span class="line">--no-wheel</span><br><span class="line">If <span class="built_in">set</span>, do <span class="keyword">not</span> attempt to install wheel</span><br></pre></td></tr></table></figure>

<h2 id="安装其他需要的包"><a href="#安装其他需要的包" class="headerlink" title="安装其他需要的包"></a>安装其他需要的包</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Scripts\pip install pandas  -i https://pypi.tuna.tsinghua.edu.cn/simple </span><br><span class="line">Scripts\pip install pandas  -i https://pypi.tuna.tsinghua.edu.cn/simple </span><br></pre></td></tr></table></figure>

<p>然后拷贝到目标机就可以使用了。</p>
<h2 id="移除-pip"><a href="#移除-pip" class="headerlink" title="移除 pip"></a>移除 pip</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python -m pip uninstall pip setuptools wheel</span><br></pre></td></tr></table></figure>

<h2 id="添加-tkinter"><a href="#添加-tkinter" class="headerlink" title="添加 tkinter"></a>添加 tkinter</h2><p>从虚拟环境中复制下面文件夹和文件</p>
<p>tcl<br>Lib/tkinter<br>DLLs/_tkinter.pyd, tcl86t.dll, tk86t.dll</p>
<p>主要问题就是设置搜索路径，让 python 找到库和 dll </p>
<p>set PATH=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0;./Library/bin;./Dlls;./tcl;./Scripts;./libs;./Lib;</p>
<h3 id="ModuleNotFoundError-No-module-named-‘Tkinter’"><a href="#ModuleNotFoundError-No-module-named-‘Tkinter’" class="headerlink" title="ModuleNotFoundError: No module named ‘Tkinter’"></a>ModuleNotFoundError: No module named ‘Tkinter’</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tcl folder to embedded_distribution_folder\ (root folder of the embedded distribution)</span><br><span class="line">tkinter folder (which <span class="keyword">is</span> under Lib) either to embedded_distribution_folder\Lib <span class="keyword">or</span> to embedded_distribution_folder\</span><br><span class="line">files _tkinter.pyd tcl86t.dll tk86t.dll (which are under DLLs) either to embedded_distribution_folder\DLLs <span class="keyword">or</span> to embedded_distribution_folder\</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/08/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/08/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84/" class="post-title-link" itemprop="url">python-模块搜索路径</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-06-08 10:19:20" itemprop="dateCreated datePublished" datetime="2020-06-08T10:19:20+08:00">2020-06-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-09-28 15:09:33" itemprop="dateModified" datetime="2020-09-28T15:09:33+08:00">2020-09-28</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>289</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Python looks for modules in “sys.path”</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">type</span>(sys.path)</span><br><span class="line"><span class="keyword">for</span> path <span class="keyword">in</span> sys.path:</span><br><span class="line">    <span class="built_in">print</span>(path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以手动加入搜索路径，这个是相对于 Python 的路径，</span></span><br><span class="line">sys.path.append(<span class="string">&#x27;code&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="zip-文件"><a href="#zip-文件" class="headerlink" title="zip 文件"></a>zip 文件</h2><p>任何文件都可以存在于 ZIP档案之中，但是只有 .py 和 .pyc 文件是能够导入的。不允许导入 ZIP 中的动态模组（ .pyd ， .so ）。请注意，如果档案中只包含 .py 文件， Python不会尝试通过添加对应的 .pyc 文件修改档案，意思是如果 ZIP 档案不包含 .pyc 文件，导入或许会变慢。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/06/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-pyc-pyd-pyo%E8%AF%B4%E6%98%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/06/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-pyc-pyd-pyo%E8%AF%B4%E6%98%8E/" class="post-title-link" itemprop="url">python-pyc-pyd-pyo说明</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-06-06 15:51:16 / 修改时间：16:00:22" itemprop="dateCreated datePublished" datetime="2020-06-06T15:51:16+08:00">2020-06-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>544</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://stackabuse.com/differences-between-pyc-pyd-and-pyo-python-files/">ref.</a></p>
<h2 id="pyc-File-Type"><a href="#pyc-File-Type" class="headerlink" title=".pyc File Type"></a>.pyc File Type</h2><p>被引用时自动生成，加快启动速度。<br>源文件改动时会自动更新</p>
<h2 id="pyo"><a href="#pyo" class="headerlink" title=".pyo"></a>.pyo</h2><p>the .pyo file results from running the interpreter when optimization settings are enabled.</p>
<p>The optimizer is enabled by adding the “-O” flag when we invoke the Python interpreter.</p>
<p><code>python -O using_lambdas.py</code></p>
<p>源文件改动时会自动更新</p>
<h2 id="pyd"><a href="#pyd" class="headerlink" title=".pyd"></a>.pyd</h2><p>In the Windows ecosystem, a .pyd file is a library file containing Python code which can be called out to and used by other Python applications. In order to make this library available to other Python programs, it is packaged as a dynamic link library.</p>
<p>A .pyd file is a dynamic link library that contains a Python module, or set of modules, to be called by other Python code. </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/CPP/cpp-%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/CPP/cpp-%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98/" class="post-title-link" itemprop="url">cpp-共享内存</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-06-05 10:58:39 / 修改时间：11:28:38" itemprop="dateCreated datePublished" datetime="2020-06-05T10:58:39+08:00">2020-06-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">LPVOID lpBase;</span><br><span class="line">HANDLE hMapFile;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">load_mmp_file</span><span class="params">(<span class="keyword">const</span> wstring&amp; filePath)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">scope_filePtr <span class="title">file</span><span class="params">(filePath, <span class="string">L&quot;rb&quot;</span>)</span></span>;</span><br><span class="line">	<span class="keyword">uint32_t</span> size = file.<span class="built_in">fileSize</span>();</span><br><span class="line">	unique_ptr&lt;<span class="keyword">char</span>[]&gt; spBuf = make_unique&lt;<span class="keyword">char</span>[]&gt;(size + <span class="number">1</span>);</span><br><span class="line">	file.<span class="built_in">read</span>(spBuf.<span class="built_in">get</span>(), size, <span class="number">1</span>, size);</span><br><span class="line">	file.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Create a memory-mapped file (MMF)</span></span><br><span class="line">	<span class="comment">// 创建共享文件句柄 </span></span><br><span class="line">	hMapFile = <span class="built_in">CreateFileMapping</span>(</span><br><span class="line">		INVALID_HANDLE_VALUE,   <span class="comment">// 物理文件句柄</span></span><br><span class="line">		<span class="literal">NULL</span>,   <span class="comment">// 默认安全级别</span></span><br><span class="line">		PAGE_READWRITE,   <span class="comment">// 可读可写</span></span><br><span class="line">		<span class="number">0</span>,   <span class="comment">// 高位文件大小</span></span><br><span class="line">		size,   <span class="comment">// 地位文件大小</span></span><br><span class="line">		<span class="string">L&quot;ShareMemory&quot;</span>   <span class="comment">// 共享内存名称</span></span><br><span class="line">		);</span><br><span class="line">	<span class="comment">// 映射缓存区视图 , 得到指向共享内存的指针</span></span><br><span class="line">	lpBase = <span class="built_in">MapViewOfFile</span>(</span><br><span class="line">		hMapFile,            <span class="comment">// 共享内存的句柄</span></span><br><span class="line">		FILE_MAP_ALL_ACCESS, <span class="comment">// 可读写许可</span></span><br><span class="line">		<span class="number">0</span>,</span><br><span class="line">		<span class="number">0</span>,</span><br><span class="line">		size</span><br><span class="line">		);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 将数据拷贝到共享内存</span></span><br><span class="line">	<span class="built_in">memcpy</span>((<span class="keyword">char</span>*)lpBase, spBuf.<span class="built_in">get</span>(), size);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解除文件映射</span></span><br><span class="line"><span class="built_in">UnmapViewOfFile</span>(lpBase);</span><br><span class="line"><span class="comment">// 关闭内存映射文件对象句柄</span></span><br><span class="line"><span class="built_in">CloseHandle</span>(hMapFile);</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 打开共享的文件对象</span></span><br><span class="line">HANDLE hMapFile = <span class="built_in">OpenFileMapping</span>(FILE_MAP_ALL_ACCESS,<span class="literal">NULL</span>,<span class="string">L&quot;ShareMemory&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (hMapFile)</span><br><span class="line">&#123;</span><br><span class="line">	LPVOID lpBase = <span class="built_in">MapViewOfFile</span>(hMapFile,FILE_MAP_ALL_ACCESS,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">	<span class="comment">// 将共享内存数据拷贝出来</span></span><br><span class="line">	<span class="keyword">char</span> szBuffer[BUF_SIZE] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	<span class="built_in">strcpy</span>(szBuffer,(<span class="keyword">char</span>*)lpBase);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,szBuffer);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 解除文件映射</span></span><br><span class="line">	<span class="built_in">UnmapViewOfFile</span>(lpBase);</span><br><span class="line">	<span class="comment">// 关闭内存映射文件对象句柄</span></span><br><span class="line">	<span class="built_in">CloseHandle</span>(hMapFile);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// 打开共享内存句柄失败</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;OpenMapping Error&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-System-V-style-shared-memory/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-System-V-style-shared-memory/" class="post-title-link" itemprop="url">python-System V style shared memory</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-06-05 08:43:27 / 修改时间：11:02:10" itemprop="dateCreated datePublished" datetime="2020-06-05T08:43:27+08:00">2020-06-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>760</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/multiprocessing.shared_memory.html">doc</a></p>
<p>This support allows creation of memory segments that can be shared between Python processes and, consequently, help avoid (de)serialization costs when sharing data between processes.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">shm = shared_memory.SharedMemory(create=<span class="literal">False</span>, size=a.nbytes,name=<span class="string">&#x27;ShareMemory&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(shm.buf))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">memoryview</span>&#x27;&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"><span class="title">datas</span> =<span class="title">shm</span>.<span class="title">buf</span>.<span class="title">tobytes</span>()</span></span><br><span class="line"><span class="class"><span class="title">print</span>(<span class="params"><span class="built_in">type</span>(<span class="params">datas</span>)</span>)</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> &#x27;<span class="title">bytes</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<p>Things to Remember</p>
<ul>
<li>The memoryview built-in type provides a zero-copy interface for reading and writing slices of objects that support Python’s high performance buffer protocol.</li>
<li>The bytearray built-in type provides a mutable bytes-like type that can be used for zero-copy data reads with functions like socket.recv_from.</li>
<li>A memoryview can wrap a bytearray, allowing for received data to be spliced into an arbitrary buffer location without copying costs.</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/04/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-logging/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/04/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/python-logging/" class="post-title-link" itemprop="url">python-logging</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-06-04 16:13:04" itemprop="dateCreated datePublished" datetime="2020-06-04T16:13:04+08:00">2020-06-04</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-16 12:44:08" itemprop="dateModified" datetime="2021-04-16T12:44:08+08:00">2021-04-16</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="每天一个日志文件"><a href="#每天一个日志文件" class="headerlink" title="每天一个日志文件"></a>每天一个日志文件</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_log</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.log = logging.getLogger(<span class="string">&#x27;tkArc&#x27;</span>)</span><br><span class="line">    self.log.setLevel(logging.DEBUG)</span><br><span class="line">    <span class="comment"># Add the log message handler to the logger</span></span><br><span class="line">    handler = logging.handlers.TimedRotatingFileHandler(<span class="string">&#x27;./tkArc.log&#x27;</span>, when=<span class="string">&#x27;midnight&#x27;</span>)</span><br><span class="line">    logdf = logging.Formatter(<span class="string">&#x27;$asctime $name $&#123;levelname&#125; $message&#x27;</span>, style=<span class="string">&#x27;$&#x27;</span>)</span><br><span class="line">    handler.setFormatter(logdf)</span><br><span class="line">    self.log.addHandler(handler)</span><br></pre></td></tr></table></figure>

<h2 id="循环记录日志"><a href="#循环记录日志" class="headerlink" title="循环记录日志"></a>循环记录日志</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> logging.handlers</span><br><span class="line"></span><br><span class="line">my_logger = logging.getLogger(<span class="string">&#x27;fireworks_plugin&#x27;</span>)</span><br><span class="line">my_logger.setLevel(logging.DEBUG)</span><br><span class="line"><span class="comment"># Add the log message handler to the logger</span></span><br><span class="line">handler = logging.handlers.RotatingFileHandler(</span><br><span class="line">    <span class="string">&#x27;fireworks_plugin.log&#x27;</span>, maxBytes=<span class="number">1024</span>*<span class="number">1000</span>*<span class="number">10</span>, backupCount=<span class="number">5</span>)</span><br><span class="line">df = logging.Formatter(<span class="string">&#x27;$asctime $name $&#123;levelname&#125; $message&#x27;</span>, style=<span class="string">&#x27;$&#x27;</span>)</span><br><span class="line">handler.setFormatter(df)</span><br><span class="line">my_logger.addHandler(handler)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">    my_logger.warning(<span class="string">&#x27;This is a warning&#x27;</span>)</span><br><span class="line">    my_logger.debug(<span class="string">&#x27;This is a debuging&#x27;</span>)</span><br><span class="line">    my_logger.info(<span class="string">&#x27;This is a info&#x27;</span>)</span><br><span class="line">    my_logger.error(<span class="string">&#x27;This is a error&#x27;</span>)</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/04/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/CPP/cpp-%E5%92%8Cpython%E8%BF%9B%E7%A8%8B%E9%80%9A%E8%AE%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/04/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/CPP/cpp-%E5%92%8Cpython%E8%BF%9B%E7%A8%8B%E9%80%9A%E8%AE%AF/" class="post-title-link" itemprop="url">cpp-和python进程通讯</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2020-06-04 15:29:38 / 修改时间：15:30:20" itemprop="dateCreated datePublished" datetime="2020-06-04T15:29:38+08:00">2020-06-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>使用 nng 通讯</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2020/06/03/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/flask/flask%E8%82%A1%E7%A5%A8%E9%A1%B9%E7%9B%AE001-%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/06/03/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/flask/flask%E8%82%A1%E7%A5%A8%E9%A1%B9%E7%9B%AE001-%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE/" class="post-title-link" itemprop="url">flask股票项目001-建立项目</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-06-03 20:58:40" itemprop="dateCreated datePublished" datetime="2020-06-03T20:58:40+08:00">2020-06-03</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-06-11 22:03:02" itemprop="dateModified" datetime="2020-06-11T22:03:02+08:00">2020-06-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>用来提供股票相关操作和信息<br>已经安装 anaconda </p>
<h2 id="创建虚拟环境"><a href="#创建虚拟环境" class="headerlink" title="创建虚拟环境"></a>创建虚拟环境</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">conda create --name flask_stocks python=3.8 flask</span><br></pre></td></tr></table></figure>

<p>使用 pycharm 创建项目，运行起来可以看到 hello world </p>
<h2 id="构建程序结构"><a href="#构建程序结构" class="headerlink" title="构建程序结构"></a>构建程序结构</h2><blockquote>
<ol>
<li>新建一个python package - “src”，用来放我们的程序，下面的操作都在src下面</li>
<li>把static和templates移到src下面</li>
<li>新建一个python package - “site”，用来放网页处理部分</li>
<li>新建一个python package - “api”，用来放api接口</li>
<li>新建一个python package - “admin”，用来放后台管理部分</li>
<li>static下面建立目录-css/images/js，css和js下面建立目录ext用来放第三方的库</li>
<li>把static目录复制到src/admin, src/site下面</li>
<li>新建一个python package - “models”，用来放数据模型</li>
<li>在src，src/admin，src/site下面新建目录 - “templates”</li>
</ol>
</blockquote>
<p><code>src/templates</code>用来放公共模板。各自蓝图下面的templates放各自的模板，<br><code>src/static</code>也是用来放公共资源的，各自蓝图下面的static放各自使用的静态资源。</p>
<p>目录结构如下：</p>
<img alt="20200603_211854.png" src="/2020/06/03/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/flask/flask%E8%82%A1%E7%A5%A8%E9%A1%B9%E7%9B%AE001-%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE/20200603_211854.png" width="400" height>

<h2 id="建立配置文件"><a href="#建立配置文件" class="headerlink" title="建立配置文件"></a>建立配置文件</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># config.py</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"></span><br><span class="line">basedir = os.path.abspath(os.path.dirname(__file__))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Config</span>:</span></span><br><span class="line">    DEBUG = <span class="literal">False</span></span><br><span class="line">    TESTING = <span class="literal">False</span></span><br><span class="line">    <span class="comment"># 登录设置 session cookie使用</span></span><br><span class="line">    SECRET_KEY = os.environ.get(<span class="string">&#x27;SECRET_KEY&#x27;</span>) <span class="keyword">or</span> <span class="string">&#x27;AllthingsWORKtogherFORGoOd&#x27;</span></span><br><span class="line">    UPLOAD_FOLDER = <span class="string">&#x27;static/upload&#x27;</span></span><br><span class="line">    <span class="comment"># database config</span></span><br><span class="line">    <span class="comment"># mysql+pymysql://name:password@localhost/db_name</span></span><br><span class="line">    SQLALCHEMY_DATABASE_URI = os.environ.get(</span><br><span class="line">        <span class="string">&#x27;DEV_DATABASE_URL&#x27;</span>) <span class="keyword">or</span> <span class="string">&#x27;mysql+pymysql://root:mysql@localhost:3306/books&#x27;</span></span><br><span class="line">    SQLALCHEMY_COMMIT_ON_TEARDOWN = <span class="literal">True</span></span><br><span class="line">    SQLALCHEMY_TRACK_MODIFICATIONS = <span class="literal">False</span></span><br><span class="line">    FLASKY_ADMIN = os.environ.get(<span class="string">&#x27;FLASKY_ADMIN&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_app</span>(<span class="params">app</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DevelopmentConfig</span>(<span class="params">Config</span>):</span></span><br><span class="line">    DEBUG = <span class="literal">True</span></span><br><span class="line">    send_file_max_age_default = timedelta(seconds=<span class="number">1</span>)</span><br><span class="line">    use_reloader = <span class="literal">True</span></span><br><span class="line">    TEMPLATES_AUTO_RELOAD = <span class="literal">True</span></span><br><span class="line">    SQLALCHEMY_DATABASE_URI = os.environ.get(</span><br><span class="line">        <span class="string">&#x27;DEV_DATABASE_URL&#x27;</span>) <span class="keyword">or</span> <span class="string">&#x27;mysql+pymysql://root:mysql@localhost:3306/books&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestingConfig</span>(<span class="params">Config</span>):</span></span><br><span class="line">    TESTING = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductionConfig</span>(<span class="params">Config</span>):</span></span><br><span class="line">    SQLALCHEMY_DATABASE_URI = os.environ.get(</span><br><span class="line">        <span class="string">&#x27;DEV_DATABASE_URL&#x27;</span>) <span class="keyword">or</span> <span class="string">&#x27;mysql+pymysql://root:mysql@localhost:3306/books&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;development&#x27;</span>: DevelopmentConfig,</span><br><span class="line">    <span class="string">&#x27;testing&#x27;</span>: TestingConfig,</span><br><span class="line">    <span class="string">&#x27;production&#x27;</span>: ProductionConfig,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: DevelopmentConfig</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="建立应用"><a href="#建立应用" class="headerlink" title="建立应用"></a>建立应用</h2><p>在 src/admin，src/site，下面建立 routes_site.py 做网站路由处理，routes_api.py 做各自的 api 服务<br>src/api 下面建立 routes_api.py 做公共 api 服务</p>
<p>增加蓝图路由</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># src/admin/__init__.py</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Blueprint</span><br><span class="line"></span><br><span class="line">admin = Blueprint(<span class="string">&#x27;admin&#x27;</span>, __name__, template_folder=<span class="string">&#x27;templates&#x27;</span>,static_folder=<span class="string">&#x27;static&#x27;</span>,</span><br><span class="line">                  static_url_path=<span class="string">&#x27;/admin/static&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> routes_site, routes_api</span><br><span class="line"></span><br><span class="line"><span class="comment"># src/api/__init__.py</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Blueprint</span><br><span class="line"></span><br><span class="line">api = Blueprint(<span class="string">&#x27;api&#x27;</span>, __name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># src/site/__init__.py</span></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Blueprint</span><br><span class="line"></span><br><span class="line">site = Blueprint(<span class="string">&#x27;site&#x27;</span>, __name__, template_folder=<span class="string">&#x27;templates&#x27;</span>, static_folder=<span class="string">&#x27;static&#x27;</span>, static_url_path=<span class="string">&#x27;/site/static&#x27;</span>)</span><br><span class="line">site_api = Blueprint(<span class="string">&#x27;site_api&#x27;</span>, __name__, template_folder=<span class="string">&#x27;templates&#x27;</span>, static_folder=<span class="string">&#x27;static&#x27;</span>,</span><br><span class="line">                     static_url_path=<span class="string">&#x27;/site/static&#x27;</span>)</span><br><span class="line">                     </span><br><span class="line"><span class="comment"># 末尾导入是为了避免循环导入依赖</span></span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> routes_site, routes_api</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># src/__init__.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用工厂函数创建实例</span></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> config <span class="keyword">import</span> config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_app</span>(<span class="params">config_name</span>):</span></span><br><span class="line">    app = Flask(__name__)</span><br><span class="line">    app.config.from_object(config[config_name])</span><br><span class="line">    config[config_name].init_app(app)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 路由和自定义错误页面</span></span><br><span class="line">    <span class="keyword">from</span> src.site <span class="keyword">import</span> site</span><br><span class="line">    <span class="keyword">from</span> src.api <span class="keyword">import</span> api <span class="keyword">as</span> api_blueprint</span><br><span class="line">    <span class="keyword">from</span> src.admin <span class="keyword">import</span> admin <span class="keyword">as</span> admin_blueprint</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 访问时需要加上前缀</span></span><br><span class="line">    app.register_blueprint(site)</span><br><span class="line">    app.register_blueprint(api_blueprint, url_prefix=<span class="string">&#x27;/api/v1.0&#x27;</span>)</span><br><span class="line">    app.register_blueprint(admin_blueprint, url_prefix=<span class="string">&#x27;/admin&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app</span><br></pre></td></tr></table></figure>

<p>修改 app.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># app.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> src <span class="keyword">import</span> create_app</span><br><span class="line"></span><br><span class="line">app = create_app(os.getenv(<span class="string">&#x27;FLASK_CONFIG&#x27;</span>) <span class="keyword">or</span> <span class="string">&#x27;default&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, port=<span class="number">5000</span>, debug=<span class="literal">True</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>添加 404 和 500 出错页面</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># src/templates/404.html</span></span><br><span class="line"><span class="comment"># src/templates/500.html</span></span><br></pre></td></tr></table></figure>


<p>填写测试路由，注意这里需要访问 <a target="_blank" rel="noopener" href="http://127.0.0.1:5000/site">http://127.0.0.1:5000/site</a> ，因为蓝图里面添加了前缀</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># src/site/routes_site.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template, app</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> src.site <span class="keyword">import</span> site</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@site.route(<span class="params"><span class="string">&#x27;/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello world site&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@site.app_errorhandler(<span class="params"><span class="number">404</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">page_not_found</span>(<span class="params">e</span>):</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;404.html&#x27;</span>), <span class="number">404</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@site.app_errorhandler(<span class="params"><span class="number">500</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">internal_server_error</span>(<span class="params">e</span>):</span></span><br><span class="line">    <span class="keyword">import</span> traceback</span><br><span class="line">    traceback.print_exc()</span><br><span class="line">    errMsg = traceback.format_exc()</span><br><span class="line">    app.logger.exception(<span class="string">&#x27;error 500: %s&#x27;</span>, errMsg)</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;500.html&#x27;</span>), <span class="number">500</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="打开调试选项"><a href="#打开调试选项" class="headerlink" title="打开调试选项"></a>打开调试选项</h2><img alt="20200603_220459.png" src="/2020/06/03/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/python/flask/flask%E8%82%A1%E7%A5%A8%E9%A1%B9%E7%9B%AE001-%E5%BB%BA%E7%AB%8B%E9%A1%B9%E7%9B%AE/20200603_220459.png" width="400" height>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/21/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/page/23/">23</a><span class="space">&hellip;</span><a class="page-number" href="/page/128/">128</a><a class="extend next" rel="next" href="/page/23/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郑  君</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">2.1m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">31:18</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/code-unfold.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
