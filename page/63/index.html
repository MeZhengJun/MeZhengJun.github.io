<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="LiWuK0jxrq55oR5-aNOK6r0wFuUC8EvSlpNYhiiBkDk">
  <meta name="baidu-site-verification" content="code-MRwc3a52M3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhengjun.top","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
<meta property="og:type" content="website">
<meta property="og:title" content="郑君的学习笔记">
<meta property="og:url" content="http://zhengjun.top/page/63/index.html">
<meta property="og:site_name" content="郑君的学习笔记">
<meta property="og:description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郑  君">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://zhengjun.top/page/63/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/63/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>郑君的学习笔记</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="郑君的学习笔记" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">郑君的学习笔记</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">要比昨天进步一点点</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">215</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">80</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">1286</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="郑  君"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">郑  君</p>
  <div class="site-description" itemprop="description">C++，golang，Java，Python，Kotlin，区块链，全栈</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">1286</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">80</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">215</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ZhengHanYunBlog" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ZhengHanYunBlog" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhenghanyun2021@126.com" title="E-Mail → mailto:zhenghanyun2021@126.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCmh8TlSil0IrCA-AQ9Xx9_Q" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCmh8TlSil0IrCA-AQ9Xx9_Q" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MacOS/mac-install-tomcat-9-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MacOS/mac-install-tomcat-9-0/" class="post-title-link" itemprop="url">mac install tomcat 9.0</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-01-07 16:07:50" itemprop="dateCreated datePublished" datetime="2019-01-07T16:07:50+08:00">2019-01-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-01-29 18:24:17" itemprop="dateModified" datetime="2020-01-29T18:24:17+08:00">2020-01-29</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>487</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="check-java-environment"><a href="#check-java-environment" class="headerlink" title="check java environment"></a>check java environment</h1><p>Tomcat 9.x requires Java 8 or later.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>

<h1 id="Installing-Tomcat"><a href="#Installing-Tomcat" class="headerlink" title="Installing Tomcat"></a>Installing Tomcat</h1><ol>
<li>download binary distribution apache-tomcat-9.0.14 from <a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-90.cgi">here</a></li>
<li>extract to /usr/local/apache-tomcat-9.0.14</li>
<li>remove old link and create new one</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo rm -f /Library/Tomcat</span><br><span class="line">sudo ln -s /usr/local/apache-tomcat-9.0.14 /Library/Tomcat</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>change ownership and permission</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo chown -R &lt;your_username&gt; /Library/Tomcat</span><br><span class="line">sudo chmod +x /Library/Tomcat/bin/*.sh</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>start and stop</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/Library/Tomcat/bin/startup.sh</span><br><span class="line">/Library/Tomcat/bin/shutdown.sh</span><br></pre></td></tr></table></figure>

<p>browse <a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-Create-a-Custom-chain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-Create-a-Custom-chain/" class="post-title-link" itemprop="url">substrate Create a Custom chain</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-07 15:43:22 / 修改时间：17:51:22" itemprop="dateCreated datePublished" datetime="2019-01-07T15:43:22+08:00">2019-01-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/" itemprop="url" rel="index"><span itemprop="name">区块链</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.6k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>展示如何构建一个 Substrate 区块链的 Runtime Library</p>
<h1 id="先决条件"><a href="#先决条件" class="headerlink" title="先决条件"></a>先决条件</h1><ol>
<li>make sure node and npm is installed</li>
<li>Rust and other dependencies for substrate</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl https://getsubstrate.io -sSf | bash</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/paritytech/substrate-up">scripts for utils</a></p>
<p>进入到上面的项目中。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./substrate-node-new substrate-node-template &lt;author-name&gt;</span><br><span class="line">./substrate-ui-new substrate</span><br></pre></td></tr></table></figure>
<p>This will create a folder called substrate-node-template and substrate-ui with the corresponding repositories cloned in them.</p>
<h1 id="Launch-a-Blockchain"><a href="#Launch-a-Blockchain" class="headerlink" title="Launch a Blockchain"></a>Launch a Blockchain</h1><p>If you have set up everything correctly, you can now start a substrate dev chain! In substrate-node-template run:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./target/release/substrate-node-template --dev</span><br></pre></td></tr></table></figure>

<p>if you run into any errors starting or running your node, you may need to purge the chain files on your computer. You can do this by running:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 优先使用这个</span><br><span class="line">rm -rf ~/Library/Application\ Support/Substrate/chains/dev/</span><br><span class="line">// or</span><br><span class="line">cargo run -- purge-chain --dev</span><br></pre></td></tr></table></figure>
<p>If everything is working it should start producing blocks!</p>
<p>To interact with the blockchain, you need to start the Substrate UI. Navigate to the substrate-ui folder and run:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<p>Finally, if open your browser to <a target="_blank" rel="noopener" href="http://localhost:8000/">http://localhost:8000</a>, you should be able to interact with your new chain!</p>
<h1 id="Add-Alice-to-your-network"><a href="#Add-Alice-to-your-network" class="headerlink" title="Add Alice to your network"></a>Add Alice to your network</h1><p>Alice is a hard-coded account in the substrate system, which is pre-funded to make your life easier. Alice may already be added to your network if you used the latest version of the substrate-node-template.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">subkey restore Alice</span><br><span class="line"></span><br><span class="line">&gt; Seed</span><br><span class="line">&gt; 0x416c696365202020202020202020202020202020202020202020202020202020 is account:</span><br><span class="line">&gt;    SS58: 5GoKvZWG5ZPYL1WUovuHW3zJBWBP5eT8CbqjdRY4Q6iMaDtZ</span><br><span class="line">     Hex: 0xd172a74cda4c865912c32ba0a80a57ae69abae410e5ccb59dee84e2f4432db4f</span><br></pre></td></tr></table></figure>
<p>Then in the Substrate UI, you can go into the Wallet section and add Alice using her seed and name.<br><img alt="402e50b0.png" src="/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-Create-a-Custom-chain/402e50b0.png" width height></p>
<p>If all is working correctly, you can now go into the Send Funds section and send funds from Alice to Default. You will see that Alice has a bunch of units pre-funded in her account, so send some and wait for the green checkmark and an updated balance for Default to show that the transfer has been successfully recorded on the blockchain.</p>
<h1 id="Create-a-new-runtime-module"><a href="#Create-a-new-runtime-module" class="headerlink" title="Create a new runtime module"></a>Create a new runtime module</h1><p>Now it’s time to create our own runtime.</p>
<p>Open up the substrate-node-template folder and create a new file:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./runtime/src/demo.rs</span><br></pre></td></tr></table></figure>
<p>This is where our new runtime module will live. Inline comments will hopefully give you insight to what the code is doing.</p>
<p>First, we will need to import a few libraries at the top of our file:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Encoding library</span><br><span class="line">use parity_codec::Encode;</span><br><span class="line"></span><br><span class="line">// Enables access to the runtime storage</span><br><span class="line">use srml_support::&#123;StorageValue, dispatch::Result&#125;;</span><br><span class="line"></span><br><span class="line">// Enables us to do hashing</span><br><span class="line">use runtime_primitives::traits::Hash;</span><br><span class="line"></span><br><span class="line">// Enables access to account balances and interacting with signed messages</span><br><span class="line">use &#123;balances, system::&#123;self, ensure_signed&#125;&#125;;</span><br><span class="line"></span><br><span class="line">// Includes the standard rust imports for things like Vec</span><br><span class="line">use rstd::prelude::*;</span><br></pre></td></tr></table></figure>

<p>All modules need to expose a configuration trait. In this case, our trait inherits from the Balances module’s trait since we will be using features and functions made available to us there.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pub trait Trait: balances::Trait &#123;&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Upgrade-our-chain"><a href="#Upgrade-our-chain" class="headerlink" title="Upgrade our chain"></a>Upgrade our chain</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-%E7%BF%BB%E8%AF%91Substrate-in-a-nutshell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-%E7%BF%BB%E8%AF%91Substrate-in-a-nutshell/" class="post-title-link" itemprop="url">substrate 翻译Substrate in a nutshell</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-07 10:58:59 / 修改时间：13:50:42" itemprop="dateCreated datePublished" datetime="2019-01-07T10:58:59+08:00">2019-01-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/" itemprop="url" rel="index"><span itemprop="name">区块链</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.parity.io/substrate-in-a-nutshell/">原文</a></p>
<p>今天我们讨论一下 Substrate，可以帮助你构建定制化区块链的库。 Substrate 是由 <a target="_blank" rel="noopener" href="https://www.parity.io/">Parity Technologies</a> 创建，并且为 <a target="_blank" rel="noopener" href="https://polkadot.network/">Polkadot</a> 提供基础设施。</p>
<h1 id="什么是-Substrate"><a href="#什么是-Substrate" class="headerlink" title="什么是 Substrate?"></a>什么是 Substrate?</h1><p>从字典定义，或者字面理解 Substrate 可以用来构建，或者发展某些项目。在我们这里，我们可以构建区块链，对于 Polkadot 来说，是构建整个区块链家族。</p>
<h1 id="为什么我们需要-Substrate？"><a href="#为什么我们需要-Substrate？" class="headerlink" title="为什么我们需要 Substrate？"></a>为什么我们需要 Substrate？</h1><p>软件充满了抽象。计算机科学的历史展示给我们的就是不断的抽象，从硬件，到开发语言，编程接口。</p>
<p>每个抽象层都想要解决特定的问题。Substrate 想要解决什么问题呢？<br>在回答这个问题之前，我们先看一下，在你想要实现一个全新的区块链，要考虑哪些方面：</p>
<ul>
<li>为什么需要另一个区块链?!</li>
<li>各种各样的原始加密算法，签名等等.</li>
<li>共识算法和容错选举.</li>
<li>POW，POS或者完全不同的概念?</li>
<li>区块结构，高效存储，信息序列化.</li>
<li>P2P 网络, 节点发现, 区块和交易传播.</li>
<li>状态机，运行时，智能合约.</li>
<li>轻客户端的支持</li>
</ul>
<p>尽管 Substrate 不能帮你实现第一条，至少可以帮你做余下的事情。开箱即用的实现，是基于多年开发区块链的经验，设计，实现，极度用心的测试。<br>通过提供典型算法的通用实现，可以使开发者专注于项目的业务逻辑，比如：状态机。</p>
<p>让我们看看区块链最核心的部分，以及 Substrate 可以为我们做什么。</p>
<h1 id="区块链的持久化"><a href="#区块链的持久化" class="headerlink" title="区块链的持久化"></a>区块链的持久化</h1><p>区块链唯一的目的就是在非可信环境下，提供一个途径可以在任意时间点验证，达成共识，全局持久化，并且一旦确认真实可靠，就不可更改。</p>
<p>Substrate 提供了一种高效并且非常易用的，和 Wasm 运行时紧密继承的持久化。</p>
<h1 id="区块链作为函数"><a href="#区块链作为函数" class="headerlink" title="区块链作为函数"></a>区块链作为函数</h1><p>为了更新区块链状态，根据挂起的操作更改存储，我们需要一个时间点来执行这些操作。<br>这些时间的可以表示为一个函数，根据当前的状态和挂起的操作，生成另一个状态，可以认为是区块链的真实当前状态。我们把这个函数称作 state transition function 或者简称 STF</p>
<p>Substrate 允许开发者以一种可管理，可移植的方式来定义这个函数。就像 Web 页面执行的 JavaScript 一样，可以提供一组函数作为运行时来提供 STF 服务。此外该实现可以是可移植的，跨平台的，支持浏览器等等方式。</p>
<img alt="c02249f1.png" src="/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-%E7%BF%BB%E8%AF%91Substrate-in-a-nutshell/c02249f1.png" width height>

<p>Substrate 使用 WebAssembly 作为通用的运行时。</p>
<h1 id="安全和速度"><a href="#安全和速度" class="headerlink" title="安全和速度"></a>安全和速度</h1><p>使用 WebAssembly 实现业务逻辑和智能合约意味着可以借用现有的工具快速可靠的执行。Substrate 提供了另一种可以更快执行代码的途径-没有虚拟机的开销。</p>
<p>Substrate 具有革命性创新之一的就是运行时镜像和 STF 同其他数据一样保存在链上。这意味着，运行时和链的业务逻辑可以通过安全，可校验的方式来更新。并且 Substrate 和 Substrate Runtime Module Library（SRML）是使用 Rust 语言实现的，可以编译为本地代码和 Wasm。</p>
<img alt="eb09d960.png" src="/2019/01/07/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-%E7%BF%BB%E8%AF%91Substrate-in-a-nutshell/eb09d960.png" width height>

<p>在任意时间点，客户端拥有两份已编译的运行时。一个是本地编译的，一个是 Wasm 镜像可以在 VM 里面执行。当执行运行时函数时，客户端先检查链上的运行时版本和本地的版本是否一致，如果一致，执行本地的版本。</p>
<h1 id="不分叉的升级"><a href="#不分叉的升级" class="headerlink" title="不分叉的升级"></a>不分叉的升级</h1><p>当链上的运行时镜像升级，一些客户端软件没有升级时，客户端会使用链上的运行时镜像版本来执行。所以在任何时候，所有节点都能够正确的同步区块，防止分叉。</p>
<h1 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h1><p>使用了 libp2p 库来实现去中心化网络环境。<br>译者注：libp2p 是 IPFS 项目分出来的独立项目。</p>
<h1 id="定制消息"><a href="#定制消息" class="headerlink" title="定制消息"></a>定制消息</h1><p>对于简单的场景，你不需要考虑网络，因为 Substrate 做了所有的事情。你只需要提供区块链的 STF 即可。如果你需要发送定制化信息，可以通过提供特殊化的网络协议定义消息和处理逻辑来定制和扩展网络子系统。</p>
<h1 id="共识"><a href="#共识" class="headerlink" title="共识"></a>共识</h1><p>有一个 STF 可以从一个状态转换到另一个状态还不够，还需要所有的节点都对转换后的状态达成共识。</p>
<p>Substrate 实现的每个共识引擎会有一个运行时模块，处理不良行为的证明。评估的处理结果由运行时来决定。<br>Substrate 提供了一个 BFT 的实现可以开箱即用。并且还会不断的完善，增加其他的算法进来。根据应用场景，开发者可能使用现存在产块逻辑，也可能提供自己的。</p>
<p>Substrate 是一个完全可定制化，可扩展的框架，开发者可以定义自己的共识算法。实际上 Substrate 非常的灵活，可以提供非传统区块链结构的解决方案。</p>
<h1 id="轻客户端支持"><a href="#轻客户端支持" class="headerlink" title="轻客户端支持"></a>轻客户端支持</h1><p>全节点需要同步所有的数据，并且不是简单的同步数据，出于安全原因考虑，还需要重新执行所有交易，计算量比较繁重。<br>Substrate 从设计上就考虑了轻客户端的支持，可以开箱即用。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-%E5%85%A5%E9%97%A8%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8C%BA%E5%9D%97%E9%93%BE/Substrate/substrate-%E5%85%A5%E9%97%A8%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">substrate 入门操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-01-05 21:18:30" itemprop="dateCreated datePublished" datetime="2019-01-05T21:18:30+08:00">2019-01-05</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-01-08 12:01:22" itemprop="dateModified" datetime="2019-01-08T12:01:22+08:00">2019-01-08</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/" itemprop="url" rel="index"><span itemprop="name">区块链</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="install"><a href="#install" class="headerlink" title="install"></a>install</h1><p>To get going as fast as possible, there is a simple script that installs all required dependencies and installs Substrate into your path. Just open a terminal and run:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl https://getsubstrate.io -sSf | bash</span><br></pre></td></tr></table></figure>

<p>You can start a local Substrate development chain with running <code>substrate --dev</code></p>
<p>Specify the chain specification (one of dev, local or staging)</p>
<p>To create your own global network/cryptocurrency, make a chainspec file<br>First let’s get a template chainspec that you can edit. We’ll use the “staging” chain, a sort of default chain that the node comes pre-configured with:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">substrate --chain=dev build-spec &gt; ~/chainspec.json</span><br></pre></td></tr></table></figure>


<p>Error: Execution: Instantiation: Export ext_storage_changes_root has different signature Signature { params: [I64, I32], return_type: Some(I32) }</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rm -rf ~/.local/share/Substrate/</span><br><span class="line">or</span><br><span class="line">substrate --dev purge-chain</span><br></pre></td></tr></table></figure>


<h1 id="Building-from-source"><a href="#Building-from-source" class="headerlink" title="Building from source"></a>Building from source</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl https://sh.rustup.rs -sSf | sh</span><br><span class="line">rustup update nightly</span><br><span class="line">rustup target add wasm32-unknown-unknown --toolchain nightly</span><br><span class="line">rustup update stable</span><br><span class="line">cargo install --git https://github.com/alexcrichton/wasm-gc</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">brew install cmake pkg-config openssl git llvm</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/paritytech/substrate.git</span><br><span class="line">cd substrate</span><br><span class="line">./scripts/build.sh  		# Builds the WebAssembly binaries</span><br><span class="line">cargo build 				# Builds all native code</span><br></pre></td></tr></table></figure>
<p>You can run the tests if you like:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cargo test --all</span><br></pre></td></tr></table></figure>
<p>You can start a development chain with:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cargo run -- --dev</span><br><span class="line"></span><br><span class="line">// Detailed log</span><br><span class="line">RUST_LOG=debug RUST_BACKTRACE=1 cargo run —- --dev</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-control-flow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-control-flow/" class="post-title-link" itemprop="url">rust control flow</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-05 19:02:26 / 修改时间：19:03:00" itemprop="dateCreated datePublished" datetime="2019-01-05T19:02:26+08:00">2019-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>244</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="if"><a href="#if" class="headerlink" title="if"></a>if</h1><h1 id="match"><a href="#match" class="headerlink" title="match"></a>match</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">enum Coin &#123;</span><br><span class="line">    Penny,</span><br><span class="line">    Nickel,</span><br><span class="line">    Dime,</span><br><span class="line">    Quarter,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn value_in_cents(coin: Coin) -&gt; u32 &#123;</span><br><span class="line">    match coin &#123;</span><br><span class="line">        Coin::Penny =&gt; 1,</span><br><span class="line">        Coin::Nickel =&gt; 5,</span><br><span class="line">        Coin::Dime =&gt; 10,</span><br><span class="line">        Coin::Quarter =&gt; 25,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-functional/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-functional/" class="post-title-link" itemprop="url">rust functional</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-05 18:10:38 / 修改时间：18:48:58" itemprop="dateCreated datePublished" datetime="2019-01-05T18:10:38+08:00">2019-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>Closures, a function-like construct you can store in a variable</li>
<li>Iterators, a way of processing a series of elements</li>
<li>How to use these two features to improve the I/O project in Chapter 12</li>
<li>The performance of these two features (Spoiler alert: they’re faster than you might think!)</li>
</ul>
<h1 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h1><p>Closures: Anonymous Functions that Can Capture Their Environment</p>
<p>Rust’s closures are anonymous functions you can save in a variable or pass as arguments to other functions. You can create the closure in one place and then call the closure to evaluate it in a different context. Unlike functions, closures can capture values from the scope in which they’re defined.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">use std::thread;</span><br><span class="line">use std::time::Duration;</span><br><span class="line"></span><br><span class="line">let expensive_closure = |num| &#123;</span><br><span class="line">    println!(&quot;calculating slowly...&quot;);</span><br><span class="line">    thread::sleep(Duration::from_secs(2));</span><br><span class="line">    num</span><br><span class="line">&#125;;</span><br><span class="line">expensive_closure(5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>if has multiple parameter</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">|param1, param2|</span><br></pre></td></tr></table></figure>

<p>can add annotation for clarity</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">use std::thread;</span><br><span class="line">use std::time::Duration;</span><br><span class="line"></span><br><span class="line">let expensive_closure = |num: u32| -&gt; u32 &#123;</span><br><span class="line">    println!(&quot;calculating slowly...&quot;);</span><br><span class="line">    thread::sleep(Duration::from_secs(2));</span><br><span class="line">    num</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="generic-parameter"><a href="#generic-parameter" class="headerlink" title="generic parameter"></a>generic parameter</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct Cacher&lt;T&gt;</span><br><span class="line">    where T: Fn(u32) -&gt; u32</span><br><span class="line">&#123;</span><br><span class="line">    calculation: T,</span><br><span class="line">    value: Option&lt;u32&gt;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <code>Cacher</code> struct has a <code>calculation</code> field of the generic type <code>T</code>. The trait bounds on <code>T</code> specify that it’s a closure by using the <code>Fn</code> trait. Any closure we want to store in the <code>calculation</code> field must have one <code>u32</code> parameter (specified within the parentheses after <code>Fn</code>) and must return a <code>u32</code> (specified after the <code>-&gt;</code>).</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-error/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-error/" class="post-title-link" itemprop="url">rust error</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-05 17:55:30 / 修改时间：18:01:18" itemprop="dateCreated datePublished" datetime="2019-01-05T17:55:30+08:00">2019-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>549</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Rust groups errors into two major categories: recoverable and unrecoverable errors.</p>
<p>Rust doesn’t have exceptions. Instead, it has the type Result&lt;T, E&gt; for recoverable errors and the panic! macro that stops execution when the program encounters an unrecoverable error.</p>
<p>By default, when a panic occurs, the program starts unwinding, which means Rust walks back up the stack and cleans up the data from each function it encounters. But this walking back and cleanup is a lot of work.<br>If in your project you need to make the resulting binary as small as possible, you can switch from unwinding to aborting</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[profile.release]</span><br><span class="line">panic = &#x27;abort&#x27;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-struct/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-struct/" class="post-title-link" itemprop="url">rust struct</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-05 17:18:28 / 修改时间：17:36:04" itemprop="dateCreated datePublished" datetime="2019-01-05T17:18:28+08:00">2019-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct User &#123;</span><br><span class="line">    username: String,</span><br><span class="line">    email: String,</span><br><span class="line">    sign_in_count: u64,</span><br><span class="line">    active: bool,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct User &#123;</span><br><span class="line">    username: String,</span><br><span class="line">    email: String,</span><br><span class="line">    sign_in_count: u64,</span><br><span class="line">    active: bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user1 = User &#123;</span><br><span class="line">    email: String::from(&quot;someone@example.com&quot;),</span><br><span class="line">    username: String::from(&quot;someusername123&quot;),</span><br><span class="line">    active: true,</span><br><span class="line">    sign_in_count: 1,</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct User &#123;</span><br><span class="line">    username: String,</span><br><span class="line">    email: String,</span><br><span class="line">    sign_in_count: u64,</span><br><span class="line">    active: bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let mut user1 = User &#123;</span><br><span class="line">    email: String::from(&quot;someone@example.com&quot;),</span><br><span class="line">    username: String::from(&quot;someusername123&quot;),</span><br><span class="line">    active: true,</span><br><span class="line">    sign_in_count: 1,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user1.email = String::from(&quot;anotheremail@example.com&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct User &#123;</span><br><span class="line">    username: String,</span><br><span class="line">    email: String,</span><br><span class="line">    sign_in_count: u64,</span><br><span class="line">    active: bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn build_user(email: String, username: String) -&gt; User &#123;</span><br><span class="line">    User &#123;</span><br><span class="line">        email,</span><br><span class="line">        username,</span><br><span class="line">        active: true,</span><br><span class="line">        sign_in_count: 1,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct User &#123;</span><br><span class="line">    username: String,</span><br><span class="line">    email: String,</span><br><span class="line">    sign_in_count: u64,</span><br><span class="line">    active: bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user1 = User &#123;</span><br><span class="line">    email: String::from(&quot;someone@example.com&quot;),</span><br><span class="line">    username: String::from(&quot;someusername123&quot;),</span><br><span class="line">    active: true,</span><br><span class="line">    sign_in_count: 1,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let user2 = User &#123;</span><br><span class="line">    email: String::from(&quot;another@example.com&quot;),</span><br><span class="line">    username: String::from(&quot;anotherusername567&quot;),</span><br><span class="line">    ..user1</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="method"><a href="#method" class="headerlink" title="method"></a>method</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#[derive(Debug)]</span><br><span class="line">struct Rectangle &#123;</span><br><span class="line">    width: u32,</span><br><span class="line">    height: u32,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Rectangle &#123;</span><br><span class="line">    fn area(&amp;self) -&gt; u32 &#123;</span><br><span class="line">        self.width * self.height</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let rect1 = Rectangle &#123; width: 30, height: 50 &#125;;</span><br><span class="line"></span><br><span class="line">    println!(</span><br><span class="line">        &quot;The area of the rectangle is &#123;&#125; square pixels.&quot;,</span><br><span class="line">        rect1.area()</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-string/" class="post-title-link" itemprop="url">rust string</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-01-05 16:09:19 / 修改时间：17:15:26" itemprop="dateCreated datePublished" datetime="2019-01-05T16:09:19+08:00">2019-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>This type is allocated on the heap and as such is able to store an amount of text that is unknown to us at compile time.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let s = String::from(&quot;hello&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let mut s = String::from(&quot;hello&quot;);</span><br><span class="line"></span><br><span class="line">s.push_str(&quot;, world!&quot;); // push_str() appends a literal to a String</span><br><span class="line"></span><br><span class="line">println!(&quot;&#123;&#125;&quot;, s); // This will print `hello, world!`</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>release memory</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">&#123;</span><br><span class="line">    let s = String::from(&quot;hello&quot;); // s is valid from this point forward</span><br><span class="line"></span><br><span class="line">    // do stuff with s</span><br><span class="line">&#125;                                  // this scope is now over, and s is no</span><br><span class="line">                                   // longer valid</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There is a natural point at which we can return the memory our String needs to the operating system: when s goes out of scope. When a variable goes out of scope, Rust calls a special function for us. This function is called drop, and it’s where the author of String can put the code to return the memory. Rust calls drop automatically at the closing curly bracket.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let s1 = String::from(&quot;hello&quot;);</span><br><span class="line">let s2 = s1; //Rust considers s1 to no longer be valid</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img alt="6898585a.png" src="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-string/6898585a.png" width height>
<img alt="130473ca.png" src="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-string/130473ca.png" width height>

<p>actually is a move operation<br><img alt="7e400833.png" src="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-string/7e400833.png" width height></p>
<p>deep copy use <code>clone</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let s1 = String::from(&quot;hello&quot;);</span><br><span class="line">let s2 = s1.clone();</span><br><span class="line"></span><br><span class="line">println!(&quot;s1 = &#123;&#125;, s2 = &#123;&#125;&quot;, s1, s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>return value and scope</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let s1 = gives_ownership();         // gives_ownership moves its return</span><br><span class="line">                                        // value into s1</span><br><span class="line"></span><br><span class="line">    let s2 = String::from(&quot;hello&quot;);     // s2 comes into scope</span><br><span class="line"></span><br><span class="line">    let s3 = takes_and_gives_back(s2);  // s2 is moved into</span><br><span class="line">                                        // takes_and_gives_back, which also</span><br><span class="line">                                        // moves its return value into s3</span><br><span class="line">&#125; // Here, s3 goes out of scope and is dropped. s2 goes out of scope but was</span><br><span class="line">  // moved, so nothing happens. s1 goes out of scope and is dropped.</span><br><span class="line"></span><br><span class="line">fn gives_ownership() -&gt; String &#123;             // gives_ownership will move its</span><br><span class="line">                                             // return value into the function</span><br><span class="line">                                             // that calls it</span><br><span class="line"></span><br><span class="line">    let some_string = String::from(&quot;hello&quot;); // some_string comes into scope</span><br><span class="line"></span><br><span class="line">    some_string                              // some_string is returned and</span><br><span class="line">                                             // moves out to the calling</span><br><span class="line">                                             // function</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// takes_and_gives_back will take a String and return one</span><br><span class="line">fn takes_and_gives_back(a_string: String) -&gt; String &#123; // a_string comes into</span><br><span class="line">                                                      // scope</span><br><span class="line"></span><br><span class="line">    a_string  // a_string is returned and moves out to the calling function</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>return multiple value use tuple</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let s1 = String::from(&quot;hello&quot;);</span><br><span class="line"></span><br><span class="line">    let (s2, len) = calculate_length(s1);</span><br><span class="line"></span><br><span class="line">    println!(&quot;The length of &#x27;&#123;&#125;&#x27; is &#123;&#125;.&quot;, s2, len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn calculate_length(s: String) -&gt; (String, usize) &#123;</span><br><span class="line">    let length = s.len(); // len() returns the length of a String</span><br><span class="line"></span><br><span class="line">    (s, length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let s = String::from(&quot;hello world&quot;);</span><br><span class="line"></span><br><span class="line">let hello = &amp;s[0..5];</span><br><span class="line">let world = &amp;s[6..11];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The <code>start..end</code> syntax is a range that begins at start and continues up to, but not including, end. If we wanted to include end, we can use <code>..=</code> instead of <code>..</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let s = String::from(&quot;hello world&quot;);</span><br><span class="line"></span><br><span class="line">let hello = &amp;s[0..=4];</span><br><span class="line">let world = &amp;s[6..=10];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-%E8%AF%AD%E6%B3%95%E7%A4%BA%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/Rust/rust-%E8%AF%AD%E6%B3%95%E7%A4%BA%E4%BE%8B/" class="post-title-link" itemprop="url">rust 语法示例</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-01-05 11:46:16" itemprop="dateCreated datePublished" datetime="2019-01-05T11:46:16+08:00">2019-01-05</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2019-11-15 10:51:24" itemprop="dateModified" datetime="2019-11-15T10:51:24+08:00">2019-11-15</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>6.6k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.rust-lang.org/learn">official Learn Rust</a></p>
<h1 id="basic-concept"><a href="#basic-concept" class="headerlink" title="basic concept"></a>basic concept</h1><p>trait </p>
<h1 id="variables"><a href="#variables" class="headerlink" title="variables"></a>variables</h1><p>by default variables are immutable</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> vairable:<span class="built_in">i32</span> = <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<h2 id="pattern-destructure"><a href="#pattern-destructure" class="headerlink" title="pattern destructure"></a>pattern destructure</h2><p>模式解构声明</p>
<h2 id="Shadowing"><a href="#Shadowing" class="headerlink" title="Shadowing"></a>Shadowing</h2><p>变量遮蔽</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let x = 5;</span><br><span class="line"></span><br><span class="line">    let x = x + 1;</span><br><span class="line"></span><br><span class="line">    let x = x * 2;</span><br><span class="line"></span><br><span class="line">    println!(&quot;The value of x is: &#123;&#125;&quot;, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="mutable"><a href="#mutable" class="headerlink" title="mutable"></a>mutable</h2><p>following is mutable code use <code>mut</code> indicate</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let mut x = 5;</span><br><span class="line">println!(&quot;The value of x is: &#123;&#125;&quot;, x);</span><br><span class="line">x = 6;</span><br><span class="line">println!(&quot;The value of x is: &#123;&#125;&quot;, x);</span><br></pre></td></tr></table></figure>

<h2 id="difference-with-constant"><a href="#difference-with-constant" class="headerlink" title="difference with constant"></a>difference with constant</h2><ul>
<li>Not allowed use <code>mut</code> with constants</li>
<li>Declare constants with <code>const</code> keyword, and the type of the value <strong>must</strong> be annotated</li>
<li>Constants can be declared in any scope</li>
<li>The last difference is that constants may be set only to a constant expression, not the result of a function call or any other value that could only be computed at runtime.</li>
</ul>
<h2 id="raw-identifiers"><a href="#raw-identifiers" class="headerlink" title="raw identifiers"></a>raw identifiers</h2><p>Sometimes, you may need to use a name that’s a keyword for another purpose. Maybe you need to call a function named match that is coming from a C library, where ‘match’ is not a keyword. To do this, you can use a “raw identifier.” Raw identifiers start with <code>r#</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let r#fn = &quot;this variable is named &#x27;fn&#x27; even though that&#x27;s a keyword&quot;;</span><br><span class="line"></span><br><span class="line">// call a function named &#x27;match&#x27;</span><br><span class="line">r#match();</span><br></pre></td></tr></table></figure>

<h1 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h1><h2 id="Scalar-Types"><a href="#Scalar-Types" class="headerlink" title="Scalar Types"></a>Scalar Types</h2><p>A scalar type represents a single value.</p>
<p>Rust has four primary scalar types: integers, floating-point numbers, Booleans, and characters</p>
<h3 id="integers"><a href="#integers" class="headerlink" title="integers"></a>integers</h3><table>
<thead>
<tr>
<th>Length</th>
<th>Signed</th>
<th>Unsigned</th>
</tr>
</thead>
<tbody><tr>
<td>8-bit</td>
<td>i8</td>
<td>u8</td>
</tr>
<tr>
<td>16-bit</td>
<td>i16</td>
<td>u16</td>
</tr>
<tr>
<td>32-bit</td>
<td>i32</td>
<td>u32</td>
</tr>
<tr>
<td>64-bit</td>
<td>i64</td>
<td>u64</td>
</tr>
<tr>
<td>128-bit</td>
<td>i128</td>
<td>u128</td>
</tr>
<tr>
<td>arch</td>
<td>isize</td>
<td>usize</td>
</tr>
</tbody></table>
<p>Additionally, the isize and usize types depend on the kind of computer your program is running on: 64 bits if you’re on a 64-bit architecture and 32 bits if you’re on a 32-bit architecture.</p>
<table>
<thead>
<tr>
<th>Number literals</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>Decimal</td>
<td>98_222</td>
</tr>
<tr>
<td>Hex</td>
<td>0xff</td>
</tr>
<tr>
<td>Octal</td>
<td>0o77</td>
</tr>
<tr>
<td>Binary</td>
<td>0b1111_0000</td>
</tr>
<tr>
<td>Byte (u8 only)</td>
<td>b’A’</td>
</tr>
</tbody></table>
<h3 id="floating-point-numbers"><a href="#floating-point-numbers" class="headerlink" title="floating-point numbers"></a>floating-point numbers</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let x = 2.0; // f64</span><br><span class="line"></span><br><span class="line">    let y: f32 = 3.0; // f32</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h3><p>true or false that’s a question</p>
<h3 id="characters"><a href="#characters" class="headerlink" title="characters"></a>characters</h3><p>Rust’s char type represents a Unicode Scalar Value, which means it can represent a lot more than just ASCII.<br>Accented letters; Chinese, Japanese, and Korean characters; emoji; and zero-width spaces are all valid char values in Rust. Unicode Scalar Values range from U+0000 to U+D7FF and U+E000 to U+10FFFF inclusive.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let c = &#x27;z&#x27;;</span><br><span class="line">    let z = &#x27;ℤ&#x27;;</span><br><span class="line">    let heart_eyed_cat = &#x27;😻&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="compound-types"><a href="#compound-types" class="headerlink" title="compound types"></a>compound types</h2><p>Compound types can group multiple values into one type. Rust has two primitive compound types: tuples and arrays.</p>
<h3 id="Tuples"><a href="#Tuples" class="headerlink" title="Tuples"></a>Tuples</h3><p>A tuple is a general way of grouping together some number of other values with a variety of types into one compound type. Tuples have a fixed length: once declared, they cannot grow or shrink in size.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let tup: (i32, f64, u8) = (500, 6.4, 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>access data</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let tup = (500, 6.4, 1);</span><br><span class="line"></span><br><span class="line">    let (x, y, z) = tup;</span><br><span class="line"></span><br><span class="line">    println!(&quot;The value of y is: &#123;&#125;&quot;, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let x: (i32, f64, u8) = (500, 6.4, 1);</span><br><span class="line"></span><br><span class="line">    let five_hundred = x.0;</span><br><span class="line"></span><br><span class="line">    let six_point_four = x.1;</span><br><span class="line"></span><br><span class="line">    let one = x.2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Array-Type"><a href="#Array-Type" class="headerlink" title="Array Type"></a>Array Type</h3><p>arrays in Rust have a fixed length, like tuples.<br>Arrays are useful when you want your data allocated on the stack rather than the heap</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let a = [1, 2, 3, 4, 5];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Arrays have an interesting type; it looks like this: [type; number]. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let a: [i32; 5] = [1, 2, 3, 4, 5];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>invalide element access</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let a = [1, 2, 3, 4, 5];</span><br><span class="line">    let index = 10;</span><br><span class="line"></span><br><span class="line">    let element = a[index];</span><br><span class="line"></span><br><span class="line">    println!(&quot;The value of element is: &#123;&#125;&quot;, element);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The compilation didn’t produce any errors, but the program resulted in a runtime error and didn’t exit successfully. When you attempt to access an element using indexing, Rust will check that the index you’ve specified is less than the array length. If the index is greater than the length, Rust will panic.</p>
<h1 id="functions"><a href="#functions" class="headerlink" title="functions"></a>functions</h1><p>Rust code uses snake case as the conventional style for function and variable names.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    another_function(5, 6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn another_function(x: i32, y: i32) &#123;</span><br><span class="line">    println!(&quot;The value of x is: &#123;&#125;&quot;, x);</span><br><span class="line">    println!(&quot;The value of y is: &#123;&#125;&quot;, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>return value use <code>-&gt;</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let x = plus_one(5);</span><br><span class="line"></span><br><span class="line">    println!(&quot;The value of x is: &#123;&#125;&quot;, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn plus_one(x: i32) -&gt; i32 &#123;</span><br><span class="line">    x + 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="comments"><a href="#comments" class="headerlink" title="comments"></a>comments</h1><p>same to c language.</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// one line comment</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   block Comments</span></span><br><span class="line"><span class="comment">   block Comments</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>Doc comments which are parsed into HTML library</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="control-flow"><a href="#control-flow" class="headerlink" title="control flow"></a>control flow</h1><h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let number = 3;</span><br><span class="line"></span><br><span class="line">    if number &lt; 5 &#123;</span><br><span class="line">        println!(&quot;condition was true&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        println!(&quot;condition was false&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let number = 6;</span><br><span class="line"></span><br><span class="line">    if number % 4 == 0 &#123;</span><br><span class="line">        println!(&quot;number is divisible by 4&quot;);</span><br><span class="line">    &#125; else if number % 3 == 0 &#123;</span><br><span class="line">        println!(&quot;number is divisible by 3&quot;);</span><br><span class="line">    &#125; else if number % 2 == 0 &#123;</span><br><span class="line">        println!(&quot;number is divisible by 2&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        println!(&quot;number is not divisible by 4, 3, or 2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>using with let<br>Because <code>if</code> is an expression, we can use it on the right side of a <code>let</code> statement</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let condition = true;</span><br><span class="line">    let number = if condition &#123;</span><br><span class="line">        5</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        6</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    println!(&quot;The value of number is: &#123;&#125;&quot;, number);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="loops"><a href="#loops" class="headerlink" title="loops"></a>loops</h2><h3 id="loop"><a href="#loop" class="headerlink" title="loop"></a>loop</h3><p>The loop keyword tells Rust to execute a block of code over and over again forever or until you explicitly tell it to stop.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut counter = 0;</span><br><span class="line"></span><br><span class="line">    let result = loop &#123;</span><br><span class="line">        counter += 1;</span><br><span class="line"></span><br><span class="line">        if counter == 10 &#123;</span><br><span class="line">            break counter * 2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    assert_eq!(result, 20);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut number = 3;</span><br><span class="line"></span><br><span class="line">    while number != 0 &#123;</span><br><span class="line">        println!(&quot;&#123;&#125;!&quot;, number);</span><br><span class="line"></span><br><span class="line">        number = number - 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println!(&quot;LIFTOFF!!!&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let a = [10, 20, 30, 40, 50];</span><br><span class="line"></span><br><span class="line">    for element in a.iter() &#123;</span><br><span class="line">        println!(&quot;the value is: &#123;&#125;&quot;, element);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    for number in (1..4).rev() &#123;</span><br><span class="line">        println!(&quot;&#123;&#125;!&quot;, number);</span><br><span class="line">    &#125;</span><br><span class="line">    println!(&quot;LIFTOFF!!!&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="macro-system"><a href="#macro-system" class="headerlink" title="macro system"></a>macro system</h1><p>macros look like functions, except that their name ends with a bang <code>!</code><br>Rust macros are expanded into abstract syntax trees, rather than string preprocessing, so you don’t get unexpected precedence bugs.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// This is a simple macro named `say_hello`.</span><br><span class="line">macro_rules! say_hello &#123;</span><br><span class="line">    // `()` indicates that the macro takes no argument.</span><br><span class="line">    () =&gt; (</span><br><span class="line">        // The macro will expand into the contents of this block.</span><br><span class="line">        println!(&quot;Hello!&quot;);</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    // This call will expand into `println!(&quot;Hello&quot;);`</span><br><span class="line">    say_hello!()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="naming-convention"><a href="#naming-convention" class="headerlink" title="naming convention"></a>naming convention</h1><h2 id="Constants"><a href="#Constants" class="headerlink" title="Constants"></a>Constants</h2><p>use all uppercase with underscores between words</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">const MAX_POINTS: u32 = 100_000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="引用依赖库"><a href="#引用依赖库" class="headerlink" title="引用依赖库"></a>引用依赖库</h1><h2 id="packages-from-crate-io"><a href="#packages-from-crate-io" class="headerlink" title="packages from crate.io"></a>packages from crate.io</h2><p>Cargo.toml 里面添加</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">[dependencies]</span><br><span class="line">webbrowser = <span class="string">&quot;0.2.2&quot;</span></span><br></pre></td></tr></table></figure>

<p>在rust源文件中引入 crate。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">crate</span> webbrowser;</span><br></pre></td></tr></table></figure>

<h2 id="packages-from-git-repository"><a href="#packages-from-git-repository" class="headerlink" title="packages from git repository"></a>packages from git repository</h2><p>如果不加branch=”next”，则默认获取最新的commit，当然可以用rev、tag、branch来指定不同的版本。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">[dependencies]</span><br><span class="line">rand = &#123; git = <span class="string">&quot;https://github.com/rust-lang-nursery/rand&quot;</span>, branch = <span class="string">&quot;next&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="packages-from-local-path"><a href="#packages-from-local-path" class="headerlink" title="packages from local path"></a>packages from local path</h2><p>如果不加version=”0.1.0”，则不会进行版本检查。</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">[dependencies]</span><br><span class="line">my_crate_name = &#123; path = <span class="string">&quot;../my-crate-directory&quot;</span>, version = <span class="string">&quot;0.1.0&quot;</span> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="package-version"><a href="#package-version" class="headerlink" title="package version"></a>package version</h2><p>版本号还可以有另外一种crate格式，这种格式^x.y.z允许升级到与要求版本号兼容的最新版本上。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">^1.2.3 := &gt;=1.2.3 &lt;2.0.0</span><br><span class="line">^1.2 := &gt;=1.2.0 &lt;2.0.0</span><br></pre></td></tr></table></figure>

<p>版本号还支持另一种Tilde格式，这种格式~x.y.z指定了最低版本号要求。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">~1.2.3 := &gt;=1.2.3 &lt;1.3.0</span><br><span class="line">~1.2   := &gt;=1.2.0 &lt;1.3.0</span><br><span class="line">~1     := &gt;=1.0.0 &lt;2.0.0</span><br></pre></td></tr></table></figure>

<p>版本号支持通配符。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* := &gt;=0.0.0</span><br><span class="line">1.* := &gt;=1.0.0 &lt;2.0.0</span><br><span class="line">1.2.* := &gt;=1.2.0 &lt;1.3.0</span><br></pre></td></tr></table></figure>

<h2 id="update-a-project-with-dependencies"><a href="#update-a-project-with-dependencies" class="headerlink" title="update a project with dependencies"></a>update a project with dependencies</h2><p>cargo update</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/62/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/62/">62</a><span class="page-number current">63</span><a class="page-number" href="/page/64/">64</a><span class="space">&hellip;</span><a class="page-number" href="/page/129/">129</a><a class="extend next" rel="next" href="/page/64/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">沪ICP备18010120号-1 </a>
      <img src="/images/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" alt=""><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011202010521" rel="noopener" target="_blank">沪公安备案31011202010521号 </a>
  </div>

<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郑  君</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">2.1m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">31:20</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/code-unfold.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
