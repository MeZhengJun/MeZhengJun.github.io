<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="LiWuK0jxrq55oR5-aNOK6r0wFuUC8EvSlpNYhiiBkDk">
  <meta name="baidu-site-verification" content="code-MRwc3a52M3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhengjun.top","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
<meta property="og:type" content="website">
<meta property="og:title" content="郑君的学习笔记">
<meta property="og:url" content="http://zhengjun.top/page/4/index.html">
<meta property="og:site_name" content="郑君的学习笔记">
<meta property="og:description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郑  君">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://zhengjun.top/page/4/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/4/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>郑君的学习笔记</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="郑君的学习笔记" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">郑君的学习笔记</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">要比昨天进步一点点</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">219</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">80</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">1328</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="郑  君"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">郑  君</p>
  <div class="site-description" itemprop="description">C++，golang，Java，Python，Kotlin，区块链，全栈</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">1328</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">80</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">219</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/ZhengHanYunBlog" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ZhengHanYunBlog" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhenghanyun2021@126.com" title="E-Mail → mailto:zhenghanyun2021@126.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCmh8TlSil0IrCA-AQ9Xx9_Q" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCmh8TlSil0IrCA-AQ9Xx9_Q" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/07/19/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-%E5%8F%91%E5%B8%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/19/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-%E5%8F%91%E5%B8%83/" class="post-title-link" itemprop="url">asp-发布</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-19 14:21:29" itemprop="dateCreated datePublished" datetime="2022-07-19T14:21:29+08:00">2022-07-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-07-28 11:45:18" itemprop="dateModified" datetime="2022-07-28T11:45:18+08:00">2022-07-28</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="IIS"><a href="#IIS" class="headerlink" title="IIS"></a>IIS</h2><p>Install the ASP.NET Core Module/Hosting Bundle</p>
<h2 id="前后端独立部署"><a href="#前后端独立部署" class="headerlink" title="前后端独立部署"></a>前后端独立部署</h2><p>后端API 和 前端程序分开部署，对于前后端没有任何限制。</p>
<p>此方法的限制：需要给前端和后端分配单独的域名，具有跨域问题需要配置跨域，因为有跨域，在调用API时还有会额外的 HTTP OPTIONS 请求。</p>
<h2 id="Kestrel"><a href="#Kestrel" class="headerlink" title="Kestrel"></a>Kestrel</h2><p>此方法是将前端项目发布后，Copy 到后端 WebApi 项目下的 wwwroot 目录下(没有就新建)，让 Kestrel 来同时提供 api 和 前端静态资源服务，适合内部使用小型项目，不建议用在中大型项目。</p>
<p>此方法的限制：前端必须使用基于 hash 的路由方式，基于 history 的不行；后端 WebApi 项目需要添加静态文件中间件和默认文件中间件<br>这样进行发布后，即便是打包成 Docker 镜像也只需要一个，比较方便。</p>
<p>此方法部署没有跨域问题，后端无需配置跨域，没有额外的 HTTP OPTIONS 请求。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public void Configure(IApplicationBuilder app, IWebHostEnvironment env)</span><br><span class="line">&#123;</span><br><span class="line">    if (env.IsDevelopment())</span><br><span class="line">    &#123;</span><br><span class="line">        app.UseDeveloperExceptionPage();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    app.UseDefaultFiles();</span><br><span class="line">    app.UseStaticFiles();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Nginx-全代理法"><a href="#Nginx-全代理法" class="headerlink" title="Nginx 全代理法"></a>Nginx 全代理法</h2><p>此方法是 nginx 根据请求路径来指向前端资源或者代理后端 api，和上面的方法一样，也只使用一个域名，没有跨域问题、</p>
<p>此方法的限制：后端必须设置给 api 设置统一的前缀。</p>
<p>api 的前缀，是自定义的，一般以 api作为前缀，例如：/api/apple/add。</p>
<p>最好本地vs发布环境和服务器上的core环境相一致。vs 发布环境安装 SDK3.1.2。IIS服务器上安装 core Runtime 3.1.2和Hosting Bundle 3.1.2 这2个安装包。（注意，如果iis服务器环境安装了以前版本的core，比如说3.0，发布后可能会有500错误。删除旧版本统一新版本解决</p>
<p><a target="_blank" rel="noopener" href="https://dotnet.microsoft.com/en-us/download/dotnet/3.1">https://dotnet.microsoft.com/en-us/download/dotnet/3.1</a></p>
<p>安装IIS和Windows Server Hosing之后 ，重启IIS服务，检查IIS “Modules” 中是否有 “AspNetCoreModuleV2”<br>Application pool 设置 No Managed Code， pipe line mode: integrated<br>advanced settings: 32bit-application: false</p>
<p>Linux</p>
<ul>
<li>Nginx</li>
<li>Apache<br>Windows</li>
<li>IIS</li>
<li>Windows Service</li>
</ul>
<p>The Kestrel web server is a new web server as part of ASP.NET Core.<br>It is now the preferred web server for all new ASP.NET applications.</p>
<p>it is still recommended to use IIS, Apache, or NGINX as a reverse proxy in front of it.</p>
<img alt="20220720_113459.png" src="/2022/07/19/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-%E5%8F%91%E5%B8%83/20220720_113459.png" width="500" height>


<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><p>System.UnauthorizedAccessException: Filename: redirection.config<br>Error: Cannot read configuration file due to insufficient permissions</p>
<p>THE SOLUTION<br>The service account for the IIS App Pool does not have the required read rights on folder %windows%\system32\inetsrv\config.</p>
<p>Therefore, You must grant the account Read rights on this folder and then recycle the App Pool in use for the Log API. As an alternative, you should make sure the account is part of the local IIS_IUSRS group and then assign this group read rights on the folder with the redirection.config file.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/07/18/%E5%8A%9F%E8%83%BD%E5%88%86%E7%B1%BB/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/mysql-%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/18/%E5%8A%9F%E8%83%BD%E5%88%86%E7%B1%BB/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/mysql-%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9B%B8%E5%85%B3/" class="post-title-link" itemprop="url">mysql-命令行相关</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-07-18 16:24:12 / 修改时间：16:25:32" itemprop="dateCreated datePublished" datetime="2022-07-18T16:24:12+08:00">2022-07-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>35</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="查看表生成的DDL"><a href="#查看表生成的DDL" class="headerlink" title="查看表生成的DDL"></a>查看表生成的DDL</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">show create table table_name;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/07/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%B4%BB%E5%B0%8F%E7%9F%A5%E8%AF%86/%E8%8F%9C%E8%B0%B1/%E8%8F%9C%E8%B0%B1-%E7%BA%A2%E7%83%A7%E9%B8%A1%E7%BF%85%E6%A0%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/09/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%B4%BB%E5%B0%8F%E7%9F%A5%E8%AF%86/%E8%8F%9C%E8%B0%B1/%E8%8F%9C%E8%B0%B1-%E7%BA%A2%E7%83%A7%E9%B8%A1%E7%BF%85%E6%A0%B9/" class="post-title-link" itemprop="url">红烧鸡翅根</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-09 17:12:47" itemprop="dateCreated datePublished" datetime="2022-07-09T17:12:47+08:00">2022-07-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2023-01-02 17:51:15" itemprop="dateModified" datetime="2023-01-02T17:51:15+08:00">2023-01-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%8F%9C%E8%B0%B1/" itemprop="url" rel="index"><span itemprop="name">菜谱</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>136</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>鸡翅根洗净，泡水20分钟，备好葱姜蒜，冰糖<br>用刀划几下，方便入味。<br>冷水下锅翅根过水，去掉浮沫和血水，淋干。<br>热锅凉油，放入冰糖化开，下入鸡翅根翻炒，放入姜蒜，蚝油，翻炒均匀，料酒去腥<br>倒入开水，没过翅根，可以在15分时放些土豆<br>炖20分钟左右，注意中间翻炒防止糊底，大火收汁即可。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/07/06/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/06/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-mysql/" class="post-title-link" itemprop="url">asp-mysql</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-06 15:07:13" itemprop="dateCreated datePublished" datetime="2022-07-06T15:07:13+08:00">2022-07-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-08-12 13:04:54" itemprop="dateModified" datetime="2022-08-12T13:04:54+08:00">2022-08-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="database-first"><a href="#database-first" class="headerlink" title="database first"></a>database first</h1><p>use entity generate models</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// toolset of entity framework</span><br><span class="line">dotnet tool install --global dotnet-ef</span><br><span class="line">dotnet tool update --global dotnet-ef</span><br><span class="line"></span><br><span class="line">// install package</span><br><span class="line">Pomelo.EntityFrameWorkCore.MySql</span><br><span class="line">Microsoft.EntityFrameworkCore</span><br><span class="line">Microsoft.EntityFrameworkCore.Design</span><br><span class="line"></span><br><span class="line">// dotnet command reference https://docs.microsoft.com/en-us/ef/core/cli/dotnet</span><br><span class="line">// change to project folder that contains .csproj file, not sln file&#x27;s folder， output files will be present in models folder</span><br><span class="line">dotnet ef dbcontext scaffold &quot;Server=192.168.0.129;User=root;Password=lanbe123;Database=monitor&quot; &quot;Pomelo.EntityFrameworkCore.MySql&quot; -o ./models</span><br><span class="line"></span><br><span class="line">// 在生成的文件夹里面找到 monitorContext.cs 里面有生成的工具类</span><br><span class="line"></span><br><span class="line">// Startup.cs</span><br><span class="line"> public void ConfigureServices(IServiceCollection services)</span><br><span class="line">&#123;</span><br><span class="line">    // Replace with your connection string.</span><br><span class="line"></span><br><span class="line">    services.AddDbContext&lt;monitorContext&gt;(</span><br><span class="line">        dbContextOptions =&gt; dbContextOptions</span><br><span class="line">            .UseMySql(Configuration[&quot;ConnectionStrings:ConnMySql&quot;], new MySqlServerVersion(new Version(5, 7, 19)))</span><br><span class="line">            // The following three options help with debugging, but should</span><br><span class="line">            // be changed or removed for production.</span><br><span class="line">            .LogTo(Console.WriteLine, LogLevel.Information)</span><br><span class="line">            .EnableSensitiveDataLogging()</span><br><span class="line">            .EnableDetailedErrors()</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    services.AddControllers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="EF-query"><a href="#EF-query" class="headerlink" title="EF query"></a>EF query</h2><p>Entity framework supports three types of queries: 1) LINQ-to-Entities, 2) Entity SQL, and 3) Native SQL</p>
<h3 id="Entity-SQL"><a href="#Entity-SQL" class="headerlink" title="Entity SQL"></a>Entity SQL</h3><p>Entity SQL is another way to create a query. It is processed by the Entity Framework’s Object Services directly. It returns ObjectQuery instead of IQueryable.<br>You need an ObjectContext to create a query using Entity SQL.<br>The following code snippet shows the same query result as the LINQ query above.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//Querying with Object Services and Entity SQL</span><br><span class="line">string sqlString = &quot;SELECT VALUE st FROM SchoolDBEntities.Students &quot; +</span><br><span class="line">                    &quot;AS st WHERE st.StudentName == &#x27;Bill&#x27;&quot;;</span><br><span class="line">    </span><br><span class="line">var objctx = (ctx as IObjectContextAdapter).ObjectContext;</span><br><span class="line">                </span><br><span class="line">ObjectQuery&lt;Student&gt; student = objctx.CreateQuery&lt;Student&gt;(sqlString);</span><br><span class="line">Student newStudent = student.First&lt;Student&gt;();</span><br></pre></td></tr></table></figure>

<h3 id="Native-SQL"><a href="#Native-SQL" class="headerlink" title="Native SQL"></a>Native SQL</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">using (var ctx = new SchoolDBEntities())</span><br><span class="line">&#123;</span><br><span class="line">    var studentName = ctx.Students.SqlQuery(&quot;Select studentid, studentname, standardId from Student where studentname=&#x27;Bill&#x27;&quot;).FirstOrDefault&lt;Student&gt;();</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var us = db.user.FirstOrDefault(x =&gt; x.uid == uid);</span><br><span class="line"></span><br><span class="line">db.user.Attach(us); </span><br><span class="line">db.user.Remove(us);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/07/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-log/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/05/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-log/" class="post-title-link" itemprop="url">asp-log</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-07-05 15:07:06 / 修改时间：15:10:15" itemprop="dateCreated datePublished" datetime="2022-07-05T15:07:06+08:00">2022-07-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="use-serilog-for-asp-net-core-3-1"><a href="#use-serilog-for-asp-net-core-3-1" class="headerlink" title="use serilog for asp.net core 3.1"></a>use serilog for asp.net core 3.1</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">appsettings.json</span><br><span class="line"></span><br><span class="line">  &quot;AllowedHosts&quot;: &quot;*&quot;,</span><br><span class="line">  &quot;Serilog&quot;: &#123;</span><br><span class="line">    &quot;Using&quot;: [ &quot;Serilog.Sinks.File&quot;, &quot;Serilog.Sinks.Async&quot; ],</span><br><span class="line">    &quot;MinimumLevel&quot;: &#123;</span><br><span class="line">      &quot;Default&quot;: &quot;Information&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;Override&quot;: &#123;</span><br><span class="line">      &quot;Microsoft&quot;: &quot;Warning&quot;,</span><br><span class="line">      &quot;System&quot;: &quot;Warning&quot;,</span><br><span class="line">      &quot;Microsoft.AspNetCore&quot;: &quot;Warning&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;WriteTo&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;Name&quot;: &quot;AsyncFile&quot;,</span><br><span class="line">        &quot;Args&quot;: &#123;</span><br><span class="line">          &quot;configure&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;Name&quot;: &quot;File&quot;,</span><br><span class="line">              &quot;Args&quot;: &#123;</span><br><span class="line">                &quot;path&quot;: &quot;Logs/serilogDemo_.log&quot;,</span><br><span class="line">                &quot;rollingInterval&quot;: &quot;Day&quot;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;Enrich&quot;: [ &quot;FromLogContext&quot;, &quot;WithMachineName&quot;, &quot;WithThreadId&quot; ],</span><br><span class="line">    &quot;Properties&quot;: &#123;</span><br><span class="line">      &quot;Application&quot;: &quot;KVMServerApi&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class Program</span><br><span class="line">    &#123;</span><br><span class="line">        public static IConfiguration Configuration &#123; get; &#125; = new ConfigurationBuilder()</span><br><span class="line">               .SetBasePath(Directory.GetCurrentDirectory())</span><br><span class="line">               .AddJsonFile(&quot;appsettings.json&quot;, optional: false, reloadOnChange: true)</span><br><span class="line">               .AddJsonFile($&quot;appsettings.&#123;Environment.GetEnvironmentVariable(&quot;ASPNETCORE_ENVIRONMENT&quot;) ?? &quot;Production&quot;&#125;.json&quot;, optional: true)</span><br><span class="line">               .AddJsonFile($&quot;appsettings.&#123;Environment.MachineName&#125;.json&quot;, optional: true)</span><br><span class="line">               .AddEnvironmentVariables()</span><br><span class="line">               .Build();</span><br><span class="line"></span><br><span class="line">        public static void Main(string[] args)</span><br><span class="line">        &#123;</span><br><span class="line">            Log.Logger = new LoggerConfiguration()</span><br><span class="line">            .ReadFrom.Configuration(Configuration)</span><br><span class="line">            .CreateLogger();</span><br><span class="line"></span><br><span class="line">            try</span><br><span class="line">            &#123;</span><br><span class="line">                Log.Information(&quot;Starting up&quot;);</span><br><span class="line">                CreateHostBuilder(args).Build().Run();</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                Log.Fatal(ex, &quot;Application start-up failed&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            finally</span><br><span class="line">            &#123;</span><br><span class="line">                Log.CloseAndFlush();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //CreateHostBuilder(args).Build().Run();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static IHostBuilder CreateHostBuilder(string[] args) =&gt;</span><br><span class="line">            Host.CreateDefaultBuilder(args)</span><br><span class="line">                .UseSerilog()</span><br><span class="line">                .ConfigureWebHostDefaults(webBuilder =&gt;</span><br><span class="line">                &#123;</span><br><span class="line">                    webBuilder.UseStartup&lt;Startup&gt;();</span><br><span class="line">                &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public class MsgController : BaseController</span><br><span class="line">&#123;</span><br><span class="line">    private readonly ILogger&lt;MsgController&gt; _logger;</span><br><span class="line"></span><br><span class="line">    public MsgController(IRegInfoService ri, IRedisCacheClient redisCacheClient , ILogger&lt;MsgController&gt; logger) : base(ri,redisCacheClient)</span><br><span class="line">    &#123;</span><br><span class="line">        _logger = logger;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    _logger.LogInformation(&quot;GetSystem executing...&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/07/04/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/csharp-mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/04/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/csharp-mysql/" class="post-title-link" itemprop="url">csharp-mysql</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-07-04 10:00:12" itemprop="dateCreated datePublished" datetime="2022-07-04T10:00:12+08:00">2022-07-04</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-07-06 15:06:56" itemprop="dateModified" datetime="2022-07-06T15:06:56+08:00">2022-07-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>531</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">using MySql.Data.MySqlClient;</span><br><span class="line"></span><br><span class="line">MySql.Data</span><br><span class="line">MySql.Data.EntityFrameworkCore</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">String connetStr = &quot;server=192.168.0.129;port=3306;user=root;password=lanbe123; database=monitor;&quot;;</span><br><span class="line">MySqlConnection con = new MySqlConnection(connetStr);</span><br><span class="line"></span><br><span class="line">con.Open();</span><br><span class="line">Console.WriteLine(&quot;数据库连接成功&quot;);</span><br><span class="line"></span><br><span class="line">MySqlCommand cmd = new MySqlCommand(&quot;select * from module&quot;, con);</span><br><span class="line">IDataReader read = cmd.ExecuteReader();</span><br><span class="line">while (read.Read())</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(read[0].ToString());</span><br><span class="line">    Console.WriteLine(read[1].ToString());</span><br><span class="line">    Console.WriteLine(read[2].ToString());</span><br><span class="line">&#125;</span><br><span class="line">con.Close();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/06/21/%E5%BC%80%E6%BA%90%E5%BA%93/redis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/21/%E5%BC%80%E6%BA%90%E5%BA%93/redis/" class="post-title-link" itemprop="url">redis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-06-21 13:27:07 / 修改时间：13:28:18" itemprop="dateCreated datePublished" datetime="2022-06-21T13:27:07+08:00">2022-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%BC%80%E6%BA%90%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">开源库</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>16</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="data-types"><a href="#data-types" class="headerlink" title="data types"></a>data types</h2><p>Strings</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/06/21/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/csharp-redis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/21/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/csharp-redis/" class="post-title-link" itemprop="url">csharp-redis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-06-21 11:38:31" itemprop="dateCreated datePublished" datetime="2022-06-21T11:38:31+08:00">2022-06-21</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-07-28 10:17:33" itemprop="dateModified" datetime="2022-07-28T10:17:33+08:00">2022-07-28</time>
      </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>992</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>服务端：<br><a target="_blank" rel="noopener" href="https://github.com/microsoftarchive/redis">redis</a></p>
<p>客户端：<br>目前使用 newlife.redis 尚未遇到问题</p>
<p><a target="_blank" rel="noopener" href="https://newlifex.com/core/redis">https://newlifex.com/core/redis</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//默认读取配置文件：ConnectionStrings:Redis</span><br><span class="line">services.AddRedisCacheManager();</span><br><span class="line"></span><br><span class="line">//指定链接字符串</span><br><span class="line">services.AddRedisCacheManager(&quot;server=127.0.0.1:6379;password=xxx;db=4&quot;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">private readonly ILogger&lt;Worker&gt; _logger;</span><br><span class="line">private readonly IRedisCacheManager _redisCacheManager;</span><br><span class="line"></span><br><span class="line">public Worker(ILogger&lt;Worker&gt; logger, IRedisCacheManager redisCacheManager)</span><br><span class="line">&#123;</span><br><span class="line">    _logger = logger;</span><br><span class="line">    this._redisCacheManager = redisCacheManager;</span><br><span class="line"></span><br><span class="line">    var data = _redisCacheManager.Get&lt;string&gt;(&quot;test&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>StackExchange.Redis 这个有 timeout 问题<br>还有个 ServiceStack.Redis 有限制 6000次/小时访问，不推荐使用<br>ServiceStack.LicenseException: ‘The free-quota limit on ‘6000 Redis requests per hour’ has been reached. Please see <a target="_blank" rel="noopener" href="https://servicestack.net/">https://servicestack.net</a> to upgrade to a commercial license or visit <a target="_blank" rel="noopener" href="https://github.com/ServiceStackV3/ServiceStackV3">https://github.com/ServiceStackV3/ServiceStackV3</a> to revert back to the free ServiceStack v3.’</p>
<p>扩展提供更多方便的接口<br><a target="_blank" rel="noopener" href="https://github.com/imperugo/StackExchange.Redis.Extensions">https://github.com/imperugo/StackExchange.Redis.Extensions</a></p>
<p>安装 Install-Package StackExchange.Redis.Extensions.Newtonsoft 包就会自动安装依赖包了</p>
<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/06/17/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-development-time-IIS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/17/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-development-time-IIS/" class="post-title-link" itemprop="url">asp-development-time IIS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-06-17 09:58:31" itemprop="dateCreated datePublished" datetime="2022-06-17T09:58:31+08:00">2022-06-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-07-04 16:22:03" itemprop="dateModified" datetime="2022-07-04T16:22:03+08:00">2022-07-04</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/development-time-iis-support?view=aspnetcore-3.1">https://docs.microsoft.com/en-us/aspnet/core/host-and-deploy/iis/development-time-iis-support?view=aspnetcore-3.1</a></p>
<p>Visual Studio may prompt a restart if not running as an administrator. If prompted, restart Visual Studio.</p>
<h2 id="Enable-development-time-IIS-support-in-Visual-Studio"><a href="#Enable-development-time-IIS-support-in-Visual-Studio" class="headerlink" title="Enable development-time IIS support in Visual Studio"></a>Enable development-time IIS support in Visual Studio</h2><p>Launch the Visual Studio installer.</p>
<p>Select Modify for the Visual Studio installation that you plan to use for IIS development-time support.</p>
<p>For the ASP.NET and web development workload, locate and install the Development time IIS support component.</p>
<p>The component is listed in the Optional section under Development time IIS support in the Installation details panel to the right of the workloads. The component installs the ASP.NET Core Module, which is a native IIS module required to run ASP.NET Core apps with IIS.</p>
<h2 id="IIS-launch-profile"><a href="#IIS-launch-profile" class="headerlink" title="IIS launch profile"></a>IIS launch profile</h2><p>Create a new launch profile to add development-time IIS support:</p>
<p>Right-click the project in Solution Explorer. Select Properties. Open the Debug tab.</p>
<p>For Profile, select the New button. Name the profile “IIS” in the popup window. Select OK to create the profile.</p>
<p>For the Launch setting, select IIS from the list.</p>
<p>Select the checkbox for Launch browser and provide the endpoint URL.</p>
<p>When the app requires HTTPS, use an HTTPS endpoint (https://). For HTTP, use an HTTP (http://) endpoint.</p>
<p>Provide the same host name and port as the IIS configuration specified earlier uses, typically localhost.</p>
<p>Provide the name of the app at the end of the URL.</p>
<p>For example, <a target="_blank" rel="noopener" href="https://localhost/WebApplication1">https://localhost/WebApplication1</a> (HTTPS) or <a target="_blank" rel="noopener" href="http://localhost/WebApplication1">http://localhost/WebApplication1</a> (HTTP) are valid endpoint URLs.</p>
<p>In the Environment variables section, select the Add button. Provide an environment variable with a Name of ASPNETCORE_ENVIRONMENT and a Value of Development.</p>
<p>In the Web Server Settings area, set the App URL to the same value used for the Launch browser endpoint URL.</p>
<p>For the Hosting Model setting in Visual Studio 2019 or later, select Default to use the hosting model used by the project. If the project sets the <AspNetCoreHostingModel> property in its project file, the value of the property (InProcess or OutOfProcess) is used. If the property isn’t present, the default hosting model of the app is used, which is in-process. If the app requires an explicit hosting model setting different from the app’s normal hosting model, set the Hosting Model to either In Process or Out Of Process as needed.</AspNetCoreHostingModel></p>
<p>Save the profile.</p>
<h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><p>Config Error: Cannot read configuration file due to insufficient permissions<br>Config File: C:\Users\me\Documents\wwwroot\httpdocs\web.config</p>
<p>You need to give permission to C:\Windows\System32\inetsrv\config folder to IIS_IUSRS user.</p>
<h2 id="w3wp-exe-keeping-files-locked-after-processing-in-webservice"><a href="#w3wp-exe-keeping-files-locked-after-processing-in-webservice" class="headerlink" title="w3wp.exe keeping files locked after processing in webservice"></a>w3wp.exe keeping files locked after processing in webservice</h2><p>Try to either recycle the AppPool which your webservices runs under, or use iisreset.</p>
<p>iisreset /stop will stop IIS and release the dll’s. iisreset /start will start IIS back up again.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://zhengjun.top/2022/06/13/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-appsettings/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="郑  君">
      <meta itemprop="description" content="C++，golang，Java，Python，Kotlin，区块链，全栈">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郑君的学习笔记">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/06/13/%E8%AF%AD%E8%A8%80%E7%9B%B8%E5%85%B3/csharp/asp.net/asp-appsettings/" class="post-title-link" itemprop="url">asp-appsettings</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-06-13 10:51:30" itemprop="dateCreated datePublished" datetime="2022-06-13T10:51:30+08:00">2022-06-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-08-04 16:18:56" itemprop="dateModified" datetime="2022-08-04T16:18:56+08:00">2022-08-04</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Language/" itemprop="url" rel="index"><span itemprop="name">Language</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>477</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;virtualPath&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;videos&quot;</span>: <span class="string">&quot;C:\\Users\\Dev\\Documents\\videos&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="attr">&quot;runtimeEnv&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;isDocker&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public void ConfigureServices(IServiceCollection services)</span><br><span class="line">&#123;</span><br><span class="line">    services.AddSingleton&lt;IConfiguration&gt;(Configuration);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 使用</span><br><span class="line">public class ValuesController : Controller</span><br><span class="line">&#123;</span><br><span class="line">    IConfiguration configuration;</span><br><span class="line"></span><br><span class="line">    public ValuesController(IConfiguration configuration)</span><br><span class="line">    &#123;</span><br><span class="line">        this.configuration = configuration;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/133/">133</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">沪ICP备18010120号-1 </a>
      <img src="/images/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" alt=""><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011202010521" rel="noopener" target="_blank">沪公安备案31011202010521号 </a>
  </div>

<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郑  君</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">2.1m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">32:07</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/code-unfold.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
